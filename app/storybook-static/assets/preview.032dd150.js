import{w as O,o as nt,f as K,F as N,i as H,j as rt,I as it,c as ot}from"./iframe.dc3b0685.js";var b;(function(r){r.DONE="done",r.ERROR="error",r.ACTIVE="active",r.WAITING="waiting"})(b||(b={}));var A;function E(r){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(r)}function st(r,t){if(r==null)return{};var e=at(r,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(e[n]=r[n]))}return e}function at(r,t){if(r==null)return{};var e={},n=Object.keys(r),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(e[o]=r[o]);return e}function ut(r){var t=lt(r,"string");return E(t)==="symbol"?t:String(t)}function lt(r,t){if(E(r)!=="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t||"default");if(E(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function T(r){return dt(r)||ft(r)||X(r)||ct()}function ct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ft(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function dt(r){if(Array.isArray(r))return j(r)}function M(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function pt(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function G(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function yt(r,t,e){return t&&G(r.prototype,t),e&&G(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function z(r,t){return _t(r)||gt(r,t)||X(r,t)||ht()}function ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X(r,t){if(!!r){if(typeof r=="string")return j(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return j(r,t)}}function j(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function gt(r,t){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n=[],o=!0,s=!1,u,i;try{for(e=e.call(r);!(o=(u=e.next()).done)&&(n.push(u.value),!(t&&n.length===t));o=!0);}catch(a){s=!0,i=a}finally{try{!o&&e.return!=null&&e.return()}finally{if(s)throw i}}return n}}function _t(r){if(Array.isArray(r))return r}var I={CALL:"instrumenter/call",SYNC:"instrumenter/sync",START:"instrumenter/start",BACK:"instrumenter/back",GOTO:"instrumenter/goto",NEXT:"instrumenter/next",END:"instrumenter/end"},J=((A=O.FEATURES)===null||A===void 0?void 0:A.interactionsDebugger)!==!0,B={debugger:!J,start:!1,back:!1,goto:!1,next:!1,end:!1},W=new Error("This function ran after the play function completed. Did you forget to `await` it?"),$=function(t){return Object.prototype.toString.call(t)==="[object Object]"},vt=function(t){return Object.prototype.toString.call(t)==="[object Module]"},mt=function(t){if(!$(t)&&!vt(t))return!1;if(t.constructor===void 0)return!0;var e=t.constructor.prototype;return!(!$(e)||Object.prototype.hasOwnProperty.call(e,"isPrototypeOf")===!1)},bt=function(t){try{return new t.constructor}catch{return{}}},P=function(){return{renderPhase:void 0,isDebugging:!1,isPlaying:!1,isLocked:!1,cursor:0,calls:[],shadowCalls:[],callRefsByResult:new Map,chainedCallIds:new Set,parentId:void 0,playUntil:void 0,resolvers:{},syncTimeout:void 0,forwardedException:void 0}},L=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=(e?t.shadowCalls:t.calls).filter(function(s){return s.retain});if(!!n.length){var o=new Map(Array.from(t.callRefsByResult.entries()).filter(function(s){var u=z(s,2),i=u[1];return i.retain}));return{cursor:n.length,calls:n,callRefsByResult:o}}},Ot=function(){function r(){var t=this;pt(this,r),this.channel=void 0,this.initialized=!1,this.state=void 0,this.channel=K.getChannel(),this.state=O.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__||{};var e=function(c){var l=c.storyId,d=c.isPlaying,h=d===void 0?!0:d,y=c.isDebugging,f=y===void 0?!1:y,p=t.getState(l);t.setState(l,Object.assign({},P(),L(p,f),{shadowCalls:f?p.shadowCalls:[],chainedCallIds:f?p.chainedCallIds:new Set,playUntil:f?p.playUntil:void 0,isPlaying:h,isDebugging:f})),f||t.sync(l)};this.channel.on(N,e),this.channel.on(H,function(a){var c=a.storyId,l=a.newPhase,d=t.getState(c),h=d.isDebugging,y=d.forwardedException;if(t.setState(c,{renderPhase:l}),l==="playing"&&e({storyId:c,isDebugging:h}),l==="played"&&(t.setState(c,{isLocked:!1,isPlaying:!1,isDebugging:!1,forwardedException:void 0}),y))throw y}),this.channel.on(rt,function(){t.initialized?t.cleanup():t.initialized=!0});var n=function(c){var l=c.storyId,d=c.playUntil;t.getState(l).isDebugging||t.setState(l,function(y){var f=y.calls;return{calls:[],shadowCalls:f.map(function(p){return Object.assign({},p,{status:b.WAITING})}),isDebugging:!0}});var h=t.getLog(l);t.setState(l,function(y){var f,p=y.shadowCalls,_=p.findIndex(function(g){return g.id===h[0].callId});return{playUntil:d||((f=p.slice(0,_).filter(function(g){return g.interceptable}).slice(-1)[0])===null||f===void 0?void 0:f.id)}}),t.channel.emit(N,{storyId:l,isDebugging:!0})},o=function(c){var l,d=c.storyId,h=t.getState(d),y=h.isDebugging,f=t.getLog(d),p=y?f.findIndex(function(_){var g=_.status;return g===b.WAITING}):f.length;n({storyId:d,playUntil:(l=f[p-2])===null||l===void 0?void 0:l.callId})},s=function(c){var l=c.storyId,d=c.callId,h=t.getState(l),y=h.calls,f=h.shadowCalls,p=h.resolvers,_=y.find(function(m){var w=m.id;return w===d}),g=f.find(function(m){var w=m.id;return w===d});if(!_&&g&&Object.values(p).length>0){var v,k=(v=t.getLog(l).find(function(m){return m.status===b.WAITING}))===null||v===void 0?void 0:v.callId;g.id!==k&&t.setState(l,{playUntil:g.id}),Object.values(p).forEach(function(m){return m()})}else n({storyId:l,playUntil:d})},u=function(c){var l=c.storyId,d=t.getState(l),h=d.resolvers;if(Object.values(h).length>0)Object.values(h).forEach(function(p){return p()});else{var y,f=(y=t.getLog(l).find(function(p){return p.status===b.WAITING}))===null||y===void 0?void 0:y.callId;f?n({storyId:l,playUntil:f}):i({storyId:l})}},i=function(c){var l=c.storyId;t.setState(l,{playUntil:void 0,isDebugging:!1}),Object.values(t.getState(l).resolvers).forEach(function(d){return d()})};this.channel.on(I.START,n),this.channel.on(I.BACK,o),this.channel.on(I.GOTO,s),this.channel.on(I.NEXT,u),this.channel.on(I.END,i)}return yt(r,[{key:"getState",value:function(e){return this.state[e]||P()}},{key:"setState",value:function(e,n){var o=this.getState(e),s=typeof n=="function"?n(o):n;this.state=Object.assign({},this.state,M({},e,Object.assign({},o,s))),O.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state}},{key:"cleanup",value:function(){this.state=Object.entries(this.state).reduce(function(e,n){var o=z(n,2),s=o[0],u=o[1],i=L(u);return i&&(e[s]=Object.assign(P(),i)),e},{}),this.channel.emit(I.SYNC,{controlStates:B,logItems:[]}),O.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state}},{key:"getLog",value:function(e){var n=this.getState(e),o=n.calls,s=n.shadowCalls,u=T(s);o.forEach(function(a,c){u[c]=a});var i=new Set;return u.reduceRight(function(a,c){return c.args.forEach(function(l){l!=null&&l.__callId__&&i.add(l.__callId__)}),c.path.forEach(function(l){l.__callId__&&i.add(l.__callId__)}),c.interceptable&&!i.has(c.id)&&(a.unshift({callId:c.id,status:c.status}),i.add(c.id)),a},[])}},{key:"instrument",value:function(e,n){var o=this;if(!mt(e))return e;var s=n.mutate,u=s===void 0?!1:s,i=n.path,a=i===void 0?[]:i;return Object.keys(e).reduce(function(c,l){var d=e[l];return typeof d!="function"?(c[l]=o.instrument(d,Object.assign({},n,{path:a.concat(l)})),c):typeof d.__originalFn__=="function"?(c[l]=d,c):(c[l]=function(){for(var h=arguments.length,y=new Array(h),f=0;f<h;f++)y[f]=arguments[f];return o.track(l,d,y,n)},c[l].__originalFn__=d,Object.defineProperty(c[l],"name",{value:l,writable:!1}),Object.keys(d).length>0&&Object.assign(c[l],o.instrument(Object.assign({},d),Object.assign({},n,{path:a.concat(l)}))),c)},u?e:bt(e))}},{key:"track",value:function(e,n,o,s){var u,i,a,c,l=(o==null||(u=o[0])===null||u===void 0?void 0:u.__storyId__)||((i=O.window.__STORYBOOK_PREVIEW__)===null||i===void 0||(a=i.urlStore)===null||a===void 0||(c=a.selection)===null||c===void 0?void 0:c.storyId),d=this.getState(l),h=d.cursor,y=d.parentId;this.setState(l,{cursor:h+1});var f="".concat(y||l," [").concat(h,"] ").concat(e),p=s.path,_=p===void 0?[]:p,g=s.intercept,v=g===void 0?!1:g,k=s.retain,m=k===void 0?!1:k,w=typeof v=="function"?v(e,_):v,U={id:f,parentId:y,storyId:l,cursor:h,path:_,method:e,args:o,interceptable:w,retain:m},et=(w?this.intercept:this.invoke).call(this,n,U,s);return this.instrument(et,Object.assign({},s,{mutate:!0,path:[{__callId__:U.id}]}))}},{key:"intercept",value:function(e,n,o){var s=this,u=this.getState(n.storyId),i=u.chainedCallIds,a=u.isDebugging,c=u.playUntil,l=i.has(n.id);return!a||l||c?(c===n.id&&this.setState(n.storyId,{playUntil:void 0}),this.invoke(e,n,o)):new Promise(function(d){s.setState(n.storyId,function(h){var y=h.resolvers;return{isLocked:!1,resolvers:Object.assign({},y,M({},n.id,d))}})}).then(function(){return s.setState(n.storyId,function(d){var h=d.resolvers,y=n.id;h[y];var f=st(h,[y].map(ut));return{isLocked:!0,resolvers:f}}),s.invoke(e,n,o)})}},{key:"invoke",value:function(e,n,o){var s=this,u=this.getState(n.storyId),i=u.callRefsByResult,a=u.forwardedException,c=u.renderPhase,l=Object.assign({},n,{args:n.args.map(function(f){if(i.has(f))return i.get(f);if(f instanceof O.window.HTMLElement){var p=f.prefix,_=f.localName,g=f.id,v=f.classList,k=f.innerText,m=Array.from(v);return{__element__:{prefix:p,localName:_,id:g,classNames:m,innerText:k}}}return f})});n.path.forEach(function(f){f!=null&&f.__callId__&&s.setState(n.storyId,function(p){var _=p.chainedCallIds;return{chainedCallIds:new Set(Array.from(_).concat(f.__callId__))}})});var d=function(p){if(p instanceof Error){var _=p.name,g=p.message,v=p.stack,k={name:_,message:g,stack:v};if(s.update(Object.assign({},l,{status:b.ERROR,exception:k})),s.setState(n.storyId,function(m){return{callRefsByResult:new Map([].concat(T(Array.from(m.callRefsByResult.entries())),[[p,{__callId__:n.id,retain:n.retain}]]))}}),n.interceptable&&p!==W)throw it;return s.setState(n.storyId,{forwardedException:p}),p}throw p};try{if(a)throw this.setState(n.storyId,{forwardedException:void 0}),a;if(c==="played"&&!n.retain)throw W;var h=o.getArgs?o.getArgs(n,this.getState(n.storyId)):n.args,y=e.apply(void 0,T(h.map(function(f){return typeof f!="function"||Object.keys(f).length?f:function(){var p=s.getState(n.storyId),_=p.cursor,g=p.parentId;s.setState(n.storyId,{cursor:0,parentId:n.id});var v=function(){return s.setState(n.storyId,{cursor:_,parentId:g})},k=f.apply(void 0,arguments);return k instanceof Promise?k.then(v,v):v(),k}})));return y&&["object","function","symbol"].includes(E(y))&&this.setState(n.storyId,function(f){return{callRefsByResult:new Map([].concat(T(Array.from(f.callRefsByResult.entries())),[[y,{__callId__:n.id,retain:n.retain}]]))}}),this.update(Object.assign({},l,{status:y instanceof Promise?b.ACTIVE:b.DONE})),y instanceof Promise?y.then(function(f){return s.update(Object.assign({},l,{status:b.DONE})),f},d):y}catch(f){return d(f)}}},{key:"update",value:function(e){var n=this;clearTimeout(this.getState(e.storyId).syncTimeout),this.channel.emit(I.CALL,e),this.setState(e.storyId,function(o){var s=o.calls,u=s.concat(e).reduce(function(i,a){return Object.assign(i,M({},a.id,a))},{});return{calls:Object.values(u).sort(function(i,a){return i.id.localeCompare(a.id,void 0,{numeric:!0})}),syncTimeout:setTimeout(function(){return n.sync(e.storyId)},0)}})}},{key:"sync",value:function(e){var n=this.getState(e),o=n.isLocked,s=n.isPlaying,u=this.getLog(e),i=u.some(function(l){return l.status===b.ACTIVE});if(J||o||i||u.length===0){this.channel.emit(I.SYNC,{controlStates:B,logItems:u});return}var a=u.some(function(l){return[b.DONE,b.ERROR].includes(l.status)}),c={debugger:!0,start:a,back:a,goto:!0,next:s,end:s};this.channel.emit(I.SYNC,{controlStates:c,logItems:u})}}]),r}();function kt(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};try{var e,n,o,s,u=!1,i=!1;if(((e=O.window.location)===null||e===void 0||(n=e.search)===null||n===void 0?void 0:n.indexOf("instrument=true"))!==-1?u=!0:((o=O.window.location)===null||o===void 0||(s=o.search)===null||s===void 0?void 0:s.indexOf("instrument=false"))!==-1&&(i=!0),O.window.parent===O.window&&!u||i)return r;O.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__||(O.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__=new Ot);var a=O.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__;return a.instrument(r,t)}catch(c){return nt.warn(c),r}}var S={};Object.defineProperty(S,"__esModule",{value:!0});S.spyOn=S.mocked=S.fn=Z=S.ModuleMocker=void 0;function C(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}const D="mockConstructor",q=/[\s!-\/:-@\[-`{-~]/,It=new RegExp(q.source,"g"),St=new Set(["arguments","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield"]);function wt(r,t){let e;switch(t){case 1:e=function(n){return r.apply(this,arguments)};break;case 2:e=function(n,o){return r.apply(this,arguments)};break;case 3:e=function(n,o,s){return r.apply(this,arguments)};break;case 4:e=function(n,o,s,u){return r.apply(this,arguments)};break;case 5:e=function(n,o,s,u,i){return r.apply(this,arguments)};break;case 6:e=function(n,o,s,u,i,a){return r.apply(this,arguments)};break;case 7:e=function(n,o,s,u,i,a,c){return r.apply(this,arguments)};break;case 8:e=function(n,o,s,u,i,a,c,l){return r.apply(this,arguments)};break;case 9:e=function(n,o,s,u,i,a,c,l,d){return r.apply(this,arguments)};break;default:e=function(){return r.apply(this,arguments)};break}return e}function x(r){return Object.prototype.toString.apply(r).slice(8,-1)}function Et(r){const t=x(r);return t==="Function"||t==="AsyncFunction"||t==="GeneratorFunction"?"function":Array.isArray(r)?"array":t==="Object"?"object":t==="Number"||t==="String"||t==="Boolean"||t==="Symbol"?"constant":t==="Map"||t==="WeakMap"||t==="Set"?"collection":t==="RegExp"?"regexp":r===void 0?"undefined":r===null?"null":null}function Rt(r,t){if(t==="arguments"||t==="caller"||t==="callee"||t==="name"||t==="length"){const e=x(r);return e==="Function"||e==="AsyncFunction"||e==="GeneratorFunction"}return t==="source"||t==="global"||t==="ignoreCase"||t==="multiline"?x(r)==="RegExp":!1}class Q{constructor(t){C(this,"_environmentGlobal",void 0),C(this,"_mockState",void 0),C(this,"_mockConfigRegistry",void 0),C(this,"_spyState",void 0),C(this,"_invocationCallCounter",void 0),this._environmentGlobal=t,this._mockState=new WeakMap,this._mockConfigRegistry=new WeakMap,this._spyState=new Set,this._invocationCallCounter=1}_getSlots(t){if(!t)return[];const e=new Set,n=this._environmentGlobal.Object.prototype,o=this._environmentGlobal.Function.prototype,s=this._environmentGlobal.RegExp.prototype,u=Object.prototype,i=Function.prototype,a=RegExp.prototype;for(;t!=null&&t!==n&&t!==o&&t!==s&&t!==u&&t!==i&&t!==a;){const c=Object.getOwnPropertyNames(t);for(let l=0;l<c.length;l++){const d=c[l];if(!Rt(t,d)){const h=Object.getOwnPropertyDescriptor(t,d);(h!==void 0&&!h.get||t.__esModule)&&e.add(d)}}t=Object.getPrototypeOf(t)}return Array.from(e)}_ensureMockConfig(t){let e=this._mockConfigRegistry.get(t);return e||(e=this._defaultMockConfig(),this._mockConfigRegistry.set(t,e)),e}_ensureMockState(t){let e=this._mockState.get(t);return e||(e=this._defaultMockState(),this._mockState.set(t,e)),e.calls.length>0&&(e.lastCall=e.calls[e.calls.length-1]),e}_defaultMockConfig(){return{mockImpl:void 0,mockName:"jest.fn()",specificMockImpls:[],specificReturnValues:[]}}_defaultMockState(){return{calls:[],instances:[],invocationCallOrder:[],results:[]}}_makeComponent(t,e){if(t.type==="object")return new this._environmentGlobal.Object;if(t.type==="array")return new this._environmentGlobal.Array;if(t.type==="regexp")return new this._environmentGlobal.RegExp("");if(t.type==="constant"||t.type==="collection"||t.type==="null"||t.type==="undefined")return t.value;if(t.type==="function"){const n=t.members&&t.members.prototype&&t.members.prototype.members||{},o=this._getSlots(n),s=this,u=wt(function(...a){const c=s._ensureMockState(i),l=s._ensureMockConfig(i);c.instances.push(this),c.calls.push(a);const d={type:"incomplete",value:void 0};c.results.push(d),c.invocationCallOrder.push(s._invocationCallCounter++);let h,y,f=!1;try{h=(()=>{if(this instanceof i){o.forEach(g=>{if(n[g].type==="function"){const v=this[g];this[g]=s.generateFromMetadata(n[g]),this[g]._protoImpl=v}});const _=l.specificMockImpls.length?l.specificMockImpls.shift():l.mockImpl;return _&&_.apply(this,arguments)}let p=l.specificMockImpls.shift();if(p===void 0&&(p=l.mockImpl),p)return p.apply(this,arguments);if(i._protoImpl)return i._protoImpl.apply(this,arguments)})()}catch(p){throw y=p,f=!0,p}finally{d.type=f?"throw":"return",d.value=f?y:h}return h},t.length||0),i=this._createMockFunction(t,u);return i._isMockFunction=!0,i.getMockImplementation=()=>this._ensureMockConfig(i).mockImpl,typeof e=="function"&&this._spyState.add(e),this._mockState.set(i,this._defaultMockState()),this._mockConfigRegistry.set(i,this._defaultMockConfig()),Object.defineProperty(i,"mock",{configurable:!1,enumerable:!0,get:()=>this._ensureMockState(i),set:a=>this._mockState.set(i,a)}),i.mockClear=()=>(this._mockState.delete(i),i),i.mockReset=()=>(i.mockClear(),this._mockConfigRegistry.delete(i),i),i.mockRestore=()=>(i.mockReset(),e?e():void 0),i.mockReturnValueOnce=a=>i.mockImplementationOnce(()=>a),i.mockResolvedValueOnce=a=>i.mockImplementationOnce(()=>Promise.resolve(a)),i.mockRejectedValueOnce=a=>i.mockImplementationOnce(()=>Promise.reject(a)),i.mockReturnValue=a=>i.mockImplementation(()=>a),i.mockResolvedValue=a=>i.mockImplementation(()=>Promise.resolve(a)),i.mockRejectedValue=a=>i.mockImplementation(()=>Promise.reject(a)),i.mockImplementationOnce=a=>(this._ensureMockConfig(i).specificMockImpls.push(a),i),i.mockImplementation=a=>{const c=this._ensureMockConfig(i);return c.mockImpl=a,i},i.mockReturnThis=()=>i.mockImplementation(function(){return this}),i.mockName=a=>{if(a){const c=this._ensureMockConfig(i);c.mockName=a}return i},i.getMockName=()=>this._ensureMockConfig(i).mockName||"jest.fn()",t.mockImpl&&i.mockImplementation(t.mockImpl),i}else{const n=t.type||"undefined type";throw new Error("Unrecognized type "+n)}}_createMockFunction(t,e){let n=t.name;if(!n)return e;const o="bound ";let s="";if(n&&n.startsWith(o))do n=n.substring(o.length),s=".bind(null)";while(n&&n.startsWith(o));if(n===D)return e;(St.has(n)||/^\d/.test(n))&&(n="$"+n),q.test(n)&&(n=n.replace(It,"$"));const u="return function "+n+"() {return "+D+".apply(this,arguments);}"+s;return new this._environmentGlobal.Function(D,u)(e)}_generateMock(t,e,n){const o=this._makeComponent(t);return t.refID!=null&&(n[t.refID]=o),this._getSlots(t.members).forEach(s=>{const u=t.members&&t.members[s]||{};u.ref!=null?e.push(function(i){return()=>o[s]=n[i]}(u.ref)):o[s]=this._generateMock(u,e,n)}),t.type!=="undefined"&&t.type!=="null"&&o.prototype&&typeof o.prototype=="object"&&(o.prototype.constructor=o),o}generateFromMetadata(t){const e=[],n={},o=this._generateMock(t,e,n);return e.forEach(s=>s()),o}getMetadata(t,e){const n=e||new Map,o=n.get(t);if(o!=null)return{ref:o};const s=Et(t);if(!s)return null;const u={type:s};if(s==="constant"||s==="collection"||s==="undefined"||s==="null")return u.value=t,u;s==="function"&&(u.name=t.name,t._isMockFunction===!0&&(u.mockImpl=t.getMockImplementation())),u.refID=n.size,n.set(t,u.refID);let i=null;return s!=="array"&&this._getSlots(t).forEach(a=>{if(s==="function"&&t._isMockFunction===!0&&a.match(/^mock/))return;const c=this.getMetadata(t[a],n);c&&(i||(i={}),i[a]=c)}),i&&(u.members=i),u}isMockFunction(t){return!!t&&t._isMockFunction===!0}fn(t){const e=t?t.length:0,n=this._makeComponent({length:e,type:"function"});return t&&n.mockImplementation(t),n}spyOn(t,e,n){if(n)return this._spyOnProperty(t,e,n);if(typeof t!="object"&&typeof t!="function")throw new Error("Cannot spyOn on a primitive value; "+this._typeOf(t)+" given");const o=t[e];if(!this.isMockFunction(o)){if(typeof o!="function")throw new Error("Cannot spy the "+e+" property because it is not a function; "+this._typeOf(o)+" given instead");const s=Object.prototype.hasOwnProperty.call(t,e);let u=Object.getOwnPropertyDescriptor(t,e),i=Object.getPrototypeOf(t);for(;!u&&i!==null;)u=Object.getOwnPropertyDescriptor(i,e),i=Object.getPrototypeOf(i);let a;if(u&&u.get){const c=u.get;a=this._makeComponent({type:"function"},()=>{u.get=c,Object.defineProperty(t,e,u)}),u.get=()=>a,Object.defineProperty(t,e,u)}else a=this._makeComponent({type:"function"},()=>{s?t[e]=o:delete t[e]}),t[e]=a;a.mockImplementation(function(){return o.apply(this,arguments)})}return t[e]}_spyOnProperty(t,e,n="get"){if(typeof t!="object"&&typeof t!="function")throw new Error("Cannot spyOn on a primitive value; "+this._typeOf(t)+" given");if(!t)throw new Error("spyOn could not find an object to spy upon for "+e);if(!e)throw new Error("No property name supplied");let o=Object.getOwnPropertyDescriptor(t,e),s=Object.getPrototypeOf(t);for(;!o&&s!==null;)o=Object.getOwnPropertyDescriptor(s,e),s=Object.getPrototypeOf(s);if(!o)throw new Error(e+" property does not exist");if(!o.configurable)throw new Error(e+" is not declared configurable");if(!o[n])throw new Error("Property "+e+" does not have access type "+n);const u=o[n];if(!this.isMockFunction(u)){if(typeof u!="function")throw new Error("Cannot spy the "+e+" property because it is not a function; "+this._typeOf(u)+" given instead");o[n]=this._makeComponent({type:"function"},()=>{o[n]=u,Object.defineProperty(t,e,o)}),o[n].mockImplementation(function(){return u.apply(this,arguments)})}return Object.defineProperty(t,e,o),o[n]}clearAllMocks(){this._mockState=new WeakMap}resetAllMocks(){this._mockConfigRegistry=new WeakMap,this._mockState=new WeakMap}restoreAllMocks(){this._spyState.forEach(t=>t()),this._spyState=new Set}_typeOf(t){return t==null?""+t:typeof t}mocked(t,e=!1){return t}}var Z=S.ModuleMocker=Q;const R=new Q(ot),Ct=R.fn.bind(R);S.fn=Ct;const Tt=R.spyOn.bind(R);S.spyOn=Tt;const At=R.mocked.bind(R);S.mocked=At;function Mt(r,t){return jt(r)||Nt(r,t)||Dt(r,t)||Pt()}function Pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(r,t){if(!!r){if(typeof r=="string")return V(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return V(r,t)}}function V(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Nt(r,t){var e=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n=[],o=!0,s=!1,u,i;try{for(e=e.call(r);!(o=(u=e.next()).done)&&(n.push(u.value),!(t&&n.length===t));o=!0);}catch(a){s=!0,i=a}finally{try{!o&&e.return!=null&&e.return()}finally{if(s)throw i}}return n}}function jt(r){if(Array.isArray(r))return r}var Y=new Z(global),xt=Y.fn.bind(Y),Ft=kt({action:xt},{retain:!0}),Ut=Ft.action,tt=K.getChannel(),F=[];tt.on(N,function(){return F.forEach(function(r){var t;return r==null||(t=r.mockClear)===null||t===void 0?void 0:t.call(r)})});tt.on(H,function(r){var t=r.newPhase;t==="loading"&&F.forEach(function(e){var n;return e==null||(n=e.mockClear)===null||n===void 0?void 0:n.call(e)})});var Gt=function(t){var e=t.id,n=t.initialArgs;return Object.entries(n).reduce(function(o,s){var u=Mt(s,2),i=u[0],a=u[1];return typeof a=="function"&&a.name==="actionHandler"?(Object.defineProperty(a,"name",{value:i,writable:!1}),Object.defineProperty(a,"__storyId__",{value:e,writable:!1}),o[i]=Ut(a),F.push(o[i]),o):(o[i]=a,o)},{})},Wt=[Gt];export{Wt as argsEnhancers};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJldmlldy4wMzJkZDE1MC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdG9yeWJvb2svaW5zdHJ1bWVudGVyL2Rpc3QvZXNtL3R5cGVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdG9yeWJvb2svaW5zdHJ1bWVudGVyL2Rpc3QvZXNtL2luc3RydW1lbnRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9qZXN0LW1vY2svYnVpbGQvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN0b3J5Ym9vay9hZGRvbi1pbnRlcmFjdGlvbnMvZGlzdC9lc20vcHJlc2V0L3ByZXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBDYWxsU3RhdGVzO1xuXG4oZnVuY3Rpb24gKENhbGxTdGF0ZXMpIHtcbiAgQ2FsbFN0YXRlc1tcIkRPTkVcIl0gPSBcImRvbmVcIjtcbiAgQ2FsbFN0YXRlc1tcIkVSUk9SXCJdID0gXCJlcnJvclwiO1xuICBDYWxsU3RhdGVzW1wiQUNUSVZFXCJdID0gXCJhY3RpdmVcIjtcbiAgQ2FsbFN0YXRlc1tcIldBSVRJTkdcIl0gPSBcIndhaXRpbmdcIjtcbn0pKENhbGxTdGF0ZXMgfHwgKENhbGxTdGF0ZXMgPSB7fSkpOyIsImltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wudG8tcHJpbWl0aXZlLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1wcmltaXRpdmUuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanNcIjtcblxudmFyIF9nbG9iYWwkRkVBVFVSRVM7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9LCBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIF90eXBlb2Yoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpOyB9XG5cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAoX3R5cGVvZihpbnB1dCkgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAoX3R5cGVvZihyZXMpICE9PSBcIm9iamVjdFwiKSByZXR1cm4gcmVzOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChoaW50ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShpbnB1dCk7IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5tYXAuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnZhbHVlcy5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcy5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qc1wiO1xuaW1wb3J0IFwiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanNcIjtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cbmltcG9ydCB7IGFkZG9ucyB9IGZyb20gJ0BzdG9yeWJvb2svYWRkb25zJztcbmltcG9ydCB7IG9uY2UgfSBmcm9tICdAc3Rvcnlib29rL2NsaWVudC1sb2dnZXInO1xuaW1wb3J0IHsgRk9SQ0VfUkVNT1VOVCwgSUdOT1JFRF9FWENFUFRJT04sIFNFVF9DVVJSRU5UX1NUT1JZLCBTVE9SWV9SRU5ERVJfUEhBU0VfQ0hBTkdFRCB9IGZyb20gJ0BzdG9yeWJvb2svY29yZS1ldmVudHMnO1xuaW1wb3J0IGdsb2JhbCBmcm9tICdnbG9iYWwnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlcyB9IGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0IHZhciBFVkVOVFMgPSB7XG4gIENBTEw6ICdpbnN0cnVtZW50ZXIvY2FsbCcsXG4gIFNZTkM6ICdpbnN0cnVtZW50ZXIvc3luYycsXG4gIFNUQVJUOiAnaW5zdHJ1bWVudGVyL3N0YXJ0JyxcbiAgQkFDSzogJ2luc3RydW1lbnRlci9iYWNrJyxcbiAgR09UTzogJ2luc3RydW1lbnRlci9nb3RvJyxcbiAgTkVYVDogJ2luc3RydW1lbnRlci9uZXh0JyxcbiAgRU5EOiAnaW5zdHJ1bWVudGVyL2VuZCdcbn07XG52YXIgZGVidWdnZXJEaXNhYmxlZCA9ICgoX2dsb2JhbCRGRUFUVVJFUyA9IGdsb2JhbC5GRUFUVVJFUykgPT09IG51bGwgfHwgX2dsb2JhbCRGRUFUVVJFUyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dsb2JhbCRGRUFUVVJFUy5pbnRlcmFjdGlvbnNEZWJ1Z2dlcikgIT09IHRydWU7XG52YXIgY29udHJvbHNEaXNhYmxlZCA9IHtcbiAgZGVidWdnZXI6ICFkZWJ1Z2dlckRpc2FibGVkLFxuICBzdGFydDogZmFsc2UsXG4gIGJhY2s6IGZhbHNlLFxuICBnb3RvOiBmYWxzZSxcbiAgbmV4dDogZmFsc2UsXG4gIGVuZDogZmFsc2Vcbn07XG52YXIgYWxyZWFkeUNvbXBsZXRlZEV4Y2VwdGlvbiA9IG5ldyBFcnJvcihcIlRoaXMgZnVuY3Rpb24gcmFuIGFmdGVyIHRoZSBwbGF5IGZ1bmN0aW9uIGNvbXBsZXRlZC4gRGlkIHlvdSBmb3JnZXQgdG8gYGF3YWl0YCBpdD9cIik7XG5cbnZhciBpc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59O1xuXG52YXIgaXNNb2R1bGUgPSBmdW5jdGlvbiBpc01vZHVsZShvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykgPT09ICdbb2JqZWN0IE1vZHVsZV0nO1xufTtcblxudmFyIGlzSW5zdHJ1bWVudGFibGUgPSBmdW5jdGlvbiBpc0luc3RydW1lbnRhYmxlKG8pIHtcbiAgaWYgKCFpc09iamVjdChvKSAmJiAhaXNNb2R1bGUobykpIHJldHVybiBmYWxzZTtcbiAgaWYgKG8uY29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gIHZhciBwcm90byA9IG8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICBpZiAoIWlzT2JqZWN0KHByb3RvKSkgcmV0dXJuIGZhbHNlO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnaXNQcm90b3R5cGVPZicpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbnZhciBjb25zdHJ1Y3QgPSBmdW5jdGlvbiBjb25zdHJ1Y3Qob2JqKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBvYmouY29uc3RydWN0b3IoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxudmFyIGdldEluaXRpYWxTdGF0ZSA9IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICByZW5kZXJQaGFzZTogdW5kZWZpbmVkLFxuICAgIGlzRGVidWdnaW5nOiBmYWxzZSxcbiAgICBpc1BsYXlpbmc6IGZhbHNlLFxuICAgIGlzTG9ja2VkOiBmYWxzZSxcbiAgICBjdXJzb3I6IDAsXG4gICAgY2FsbHM6IFtdLFxuICAgIHNoYWRvd0NhbGxzOiBbXSxcbiAgICBjYWxsUmVmc0J5UmVzdWx0OiBuZXcgTWFwKCksXG4gICAgY2hhaW5lZENhbGxJZHM6IG5ldyBTZXQoKSxcbiAgICBwYXJlbnRJZDogdW5kZWZpbmVkLFxuICAgIHBsYXlVbnRpbDogdW5kZWZpbmVkLFxuICAgIHJlc29sdmVyczoge30sXG4gICAgc3luY1RpbWVvdXQ6IHVuZGVmaW5lZCxcbiAgICBmb3J3YXJkZWRFeGNlcHRpb246IHVuZGVmaW5lZFxuICB9O1xufTtcblxudmFyIGdldFJldGFpbmVkU3RhdGUgPSBmdW5jdGlvbiBnZXRSZXRhaW5lZFN0YXRlKHN0YXRlKSB7XG4gIHZhciBpc0RlYnVnZ2luZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gIHZhciBjYWxscyA9IChpc0RlYnVnZ2luZyA/IHN0YXRlLnNoYWRvd0NhbGxzIDogc3RhdGUuY2FsbHMpLmZpbHRlcihmdW5jdGlvbiAoY2FsbCkge1xuICAgIHJldHVybiBjYWxsLnJldGFpbjtcbiAgfSk7XG4gIGlmICghY2FsbHMubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICB2YXIgY2FsbFJlZnNCeVJlc3VsdCA9IG5ldyBNYXAoQXJyYXkuZnJvbShzdGF0ZS5jYWxsUmVmc0J5UmVzdWx0LmVudHJpZXMoKSkuZmlsdGVyKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgIHJlZiA9IF9yZWYyWzFdO1xuXG4gICAgcmV0dXJuIHJlZi5yZXRhaW47XG4gIH0pKTtcbiAgcmV0dXJuIHtcbiAgICBjdXJzb3I6IGNhbGxzLmxlbmd0aCxcbiAgICBjYWxsczogY2FsbHMsXG4gICAgY2FsbFJlZnNCeVJlc3VsdDogY2FsbFJlZnNCeVJlc3VsdFxuICB9O1xufTtcbi8qKlxuICogVGhpcyBjbGFzcyBpcyBub3Qgc3VwcG9zZWQgdG8gYmUgdXNlZCBkaXJlY3RseS4gVXNlIHRoZSBgaW5zdHJ1bWVudGAgZnVuY3Rpb24gYmVsb3cgaW5zdGVhZC5cbiAqL1xuXG5cbmV4cG9ydCB2YXIgSW5zdHJ1bWVudGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy8gU3RhdGUgaXMgdHJhY2tlZCBwZXIgc3RvcnkgdG8gZGVhbCB3aXRoIG11bHRpcGxlIHN0b3JpZXMgb24gdGhlIHNhbWUgY2FudmFzIChpLmUuIGRvY3MgbW9kZSlcbiAgZnVuY3Rpb24gSW5zdHJ1bWVudGVyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5zdHJ1bWVudGVyKTtcblxuICAgIHRoaXMuY2hhbm5lbCA9IHZvaWQgMDtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgdGhpcy5zdGF0ZSA9IHZvaWQgMDtcbiAgICB0aGlzLmNoYW5uZWwgPSBhZGRvbnMuZ2V0Q2hhbm5lbCgpOyAvLyBSZXN0b3JlIHN0YXRlIGZyb20gdGhlIHBhcmVudCB3aW5kb3cgaW4gY2FzZSB0aGUgaWZyYW1lIHdhcyByZWxvYWRlZC5cblxuICAgIHRoaXMuc3RhdGUgPSBnbG9iYWwud2luZG93LnBhcmVudC5fX1NUT1JZQk9PS19BRERPTl9JTlRFUkFDVElPTlNfSU5TVFJVTUVOVEVSX1NUQVRFX18gfHwge307IC8vIFdoZW4gY2FsbGVkIGZyb20gYHN0YXJ0YCwgaXNEZWJ1Z2dpbmcgd2lsbCBiZSB0cnVlXG5cbiAgICB2YXIgcmVzZXRTdGF0ZSA9IGZ1bmN0aW9uIHJlc2V0U3RhdGUoX3JlZjMpIHtcbiAgICAgIHZhciBzdG9yeUlkID0gX3JlZjMuc3RvcnlJZCxcbiAgICAgICAgICBfcmVmMyRpc1BsYXlpbmcgPSBfcmVmMy5pc1BsYXlpbmcsXG4gICAgICAgICAgaXNQbGF5aW5nID0gX3JlZjMkaXNQbGF5aW5nID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjMkaXNQbGF5aW5nLFxuICAgICAgICAgIF9yZWYzJGlzRGVidWdnaW5nID0gX3JlZjMuaXNEZWJ1Z2dpbmcsXG4gICAgICAgICAgaXNEZWJ1Z2dpbmcgPSBfcmVmMyRpc0RlYnVnZ2luZyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMyRpc0RlYnVnZ2luZztcblxuICAgICAgdmFyIHN0YXRlID0gX3RoaXMuZ2V0U3RhdGUoc3RvcnlJZCk7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHN0b3J5SWQsIE9iamVjdC5hc3NpZ24oe30sIGdldEluaXRpYWxTdGF0ZSgpLCBnZXRSZXRhaW5lZFN0YXRlKHN0YXRlLCBpc0RlYnVnZ2luZyksIHtcbiAgICAgICAgc2hhZG93Q2FsbHM6IGlzRGVidWdnaW5nID8gc3RhdGUuc2hhZG93Q2FsbHMgOiBbXSxcbiAgICAgICAgY2hhaW5lZENhbGxJZHM6IGlzRGVidWdnaW5nID8gc3RhdGUuY2hhaW5lZENhbGxJZHMgOiBuZXcgU2V0KCksXG4gICAgICAgIHBsYXlVbnRpbDogaXNEZWJ1Z2dpbmcgPyBzdGF0ZS5wbGF5VW50aWwgOiB1bmRlZmluZWQsXG4gICAgICAgIGlzUGxheWluZzogaXNQbGF5aW5nLFxuICAgICAgICBpc0RlYnVnZ2luZzogaXNEZWJ1Z2dpbmdcbiAgICAgIH0pKTsgLy8gRG9uJ3Qgc3luYyB3aGlsZSBkZWJ1Z2dpbmcsIGFzIGl0J2xsIGNhdXNlIGZsaWNrZXIuXG5cblxuICAgICAgaWYgKCFpc0RlYnVnZ2luZykgX3RoaXMuc3luYyhzdG9yeUlkKTtcbiAgICB9OyAvLyBBIGZvcmNlUmVtb3VudCBtaWdodCBiZSB0cmlnZ2VyZWQgZm9yIGRlYnVnZ2luZyAob24gYHN0YXJ0YCksIG9yIGVsc2V3aGVyZSBpbiBTdG9yeWJvb2suXG5cblxuICAgIHRoaXMuY2hhbm5lbC5vbihGT1JDRV9SRU1PVU5ULCByZXNldFN0YXRlKTsgLy8gU3RhcnQgd2l0aCBhIGNsZWFuIHNsYXRlIGJlZm9yZSBwbGF5aW5nIGFmdGVyIGEgcmVtb3VudCwgYW5kIHN0b3AgZGVidWdnaW5nIHdoZW4gZG9uZS5cblxuICAgIHRoaXMuY2hhbm5lbC5vbihTVE9SWV9SRU5ERVJfUEhBU0VfQ0hBTkdFRCwgZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICB2YXIgc3RvcnlJZCA9IF9yZWY0LnN0b3J5SWQsXG4gICAgICAgICAgbmV3UGhhc2UgPSBfcmVmNC5uZXdQaGFzZTtcblxuICAgICAgdmFyIF90aGlzJGdldFN0YXRlID0gX3RoaXMuZ2V0U3RhdGUoc3RvcnlJZCksXG4gICAgICAgICAgaXNEZWJ1Z2dpbmcgPSBfdGhpcyRnZXRTdGF0ZS5pc0RlYnVnZ2luZyxcbiAgICAgICAgICBmb3J3YXJkZWRFeGNlcHRpb24gPSBfdGhpcyRnZXRTdGF0ZS5mb3J3YXJkZWRFeGNlcHRpb247XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHN0b3J5SWQsIHtcbiAgICAgICAgcmVuZGVyUGhhc2U6IG5ld1BoYXNlXG4gICAgICB9KTtcblxuICAgICAgaWYgKG5ld1BoYXNlID09PSAncGxheWluZycpIHtcbiAgICAgICAgcmVzZXRTdGF0ZSh7XG4gICAgICAgICAgc3RvcnlJZDogc3RvcnlJZCxcbiAgICAgICAgICBpc0RlYnVnZ2luZzogaXNEZWJ1Z2dpbmdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdQaGFzZSA9PT0gJ3BsYXllZCcpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoc3RvcnlJZCwge1xuICAgICAgICAgIGlzTG9ja2VkOiBmYWxzZSxcbiAgICAgICAgICBpc1BsYXlpbmc6IGZhbHNlLFxuICAgICAgICAgIGlzRGVidWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICBmb3J3YXJkZWRFeGNlcHRpb246IHVuZGVmaW5lZFxuICAgICAgICB9KTsgLy8gUmV0aHJvdyBhbnkgdW5oYW5kbGVkIGZvcndhcmRlZCBleGNlcHRpb24gc28gaXQgZG9lc24ndCBnbyB1bm5vdGljZWQuXG5cblxuICAgICAgICBpZiAoZm9yd2FyZGVkRXhjZXB0aW9uKSB0aHJvdyBmb3J3YXJkZWRFeGNlcHRpb247XG4gICAgICB9XG4gICAgfSk7IC8vIFRyYXNoIG5vbi1yZXRhaW5lZCBzdGF0ZSBhbmQgY2xlYXIgdGhlIGxvZyB3aGVuIHN3aXRjaGluZyBzdG9yaWVzLCBidXQgbm90IG9uIGluaXRpYWwgYm9vdC5cblxuICAgIHRoaXMuY2hhbm5lbC5vbihTRVRfQ1VSUkVOVF9TVE9SWSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLmluaXRpYWxpemVkKSBfdGhpcy5jbGVhbnVwKCk7ZWxzZSBfdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICB2YXIgc3RhcnQgPSBmdW5jdGlvbiBzdGFydChfcmVmNSkge1xuICAgICAgdmFyIHN0b3J5SWQgPSBfcmVmNS5zdG9yeUlkLFxuICAgICAgICAgIHBsYXlVbnRpbCA9IF9yZWY1LnBsYXlVbnRpbDtcblxuICAgICAgaWYgKCFfdGhpcy5nZXRTdGF0ZShzdG9yeUlkKS5pc0RlYnVnZ2luZykge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZShzdG9yeUlkLCBmdW5jdGlvbiAoX3JlZjYpIHtcbiAgICAgICAgICB2YXIgY2FsbHMgPSBfcmVmNi5jYWxscztcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FsbHM6IFtdLFxuICAgICAgICAgICAgc2hhZG93Q2FsbHM6IGNhbGxzLm1hcChmdW5jdGlvbiAoY2FsbCkge1xuICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2FsbCwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogQ2FsbFN0YXRlcy5XQUlUSU5HXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBpc0RlYnVnZ2luZzogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgbG9nID0gX3RoaXMuZ2V0TG9nKHN0b3J5SWQpO1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZShzdG9yeUlkLCBmdW5jdGlvbiAoX3JlZjcpIHtcbiAgICAgICAgdmFyIF9zaGFkb3dDYWxscyRzbGljZSRmaTtcblxuICAgICAgICB2YXIgc2hhZG93Q2FsbHMgPSBfcmVmNy5zaGFkb3dDYWxscztcbiAgICAgICAgdmFyIGZpcnN0Um93SW5kZXggPSBzaGFkb3dDYWxscy5maW5kSW5kZXgoZnVuY3Rpb24gKGNhbGwpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbC5pZCA9PT0gbG9nWzBdLmNhbGxJZDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGxheVVudGlsOiBwbGF5VW50aWwgfHwgKChfc2hhZG93Q2FsbHMkc2xpY2UkZmkgPSBzaGFkb3dDYWxscy5zbGljZSgwLCBmaXJzdFJvd0luZGV4KS5maWx0ZXIoZnVuY3Rpb24gKGNhbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsLmludGVyY2VwdGFibGU7XG4gICAgICAgICAgfSkuc2xpY2UoLTEpWzBdKSA9PT0gbnVsbCB8fCBfc2hhZG93Q2FsbHMkc2xpY2UkZmkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zaGFkb3dDYWxscyRzbGljZSRmaS5pZClcbiAgICAgICAgfTtcbiAgICAgIH0pOyAvLyBGb3JjZSByZW1vdW50IG1heSB0cmlnZ2VyIGEgcGFnZSByZWxvYWQgaWYgdGhlIHBsYXkgZnVuY3Rpb24gY2FuJ3QgYmUgYWJvcnRlZC5cblxuXG4gICAgICBfdGhpcy5jaGFubmVsLmVtaXQoRk9SQ0VfUkVNT1VOVCwge1xuICAgICAgICBzdG9yeUlkOiBzdG9yeUlkLFxuICAgICAgICBpc0RlYnVnZ2luZzogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBiYWNrID0gZnVuY3Rpb24gYmFjayhfcmVmOCkge1xuICAgICAgdmFyIF9sb2c7XG5cbiAgICAgIHZhciBzdG9yeUlkID0gX3JlZjguc3RvcnlJZDtcblxuICAgICAgdmFyIF90aGlzJGdldFN0YXRlMiA9IF90aGlzLmdldFN0YXRlKHN0b3J5SWQpLFxuICAgICAgICAgIGlzRGVidWdnaW5nID0gX3RoaXMkZ2V0U3RhdGUyLmlzRGVidWdnaW5nO1xuXG4gICAgICB2YXIgbG9nID0gX3RoaXMuZ2V0TG9nKHN0b3J5SWQpO1xuXG4gICAgICB2YXIgbmV4dCA9IGlzRGVidWdnaW5nID8gbG9nLmZpbmRJbmRleChmdW5jdGlvbiAoX3JlZjkpIHtcbiAgICAgICAgdmFyIHN0YXR1cyA9IF9yZWY5LnN0YXR1cztcbiAgICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gQ2FsbFN0YXRlcy5XQUlUSU5HO1xuICAgICAgfSkgOiBsb2cubGVuZ3RoO1xuICAgICAgc3RhcnQoe1xuICAgICAgICBzdG9yeUlkOiBzdG9yeUlkLFxuICAgICAgICBwbGF5VW50aWw6IChfbG9nID0gbG9nW25leHQgLSAyXSkgPT09IG51bGwgfHwgX2xvZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2xvZy5jYWxsSWRcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZ290byA9IGZ1bmN0aW9uIGdvdG8oX3JlZjEwKSB7XG4gICAgICB2YXIgc3RvcnlJZCA9IF9yZWYxMC5zdG9yeUlkLFxuICAgICAgICAgIGNhbGxJZCA9IF9yZWYxMC5jYWxsSWQ7XG5cbiAgICAgIHZhciBfdGhpcyRnZXRTdGF0ZTMgPSBfdGhpcy5nZXRTdGF0ZShzdG9yeUlkKSxcbiAgICAgICAgICBjYWxscyA9IF90aGlzJGdldFN0YXRlMy5jYWxscyxcbiAgICAgICAgICBzaGFkb3dDYWxscyA9IF90aGlzJGdldFN0YXRlMy5zaGFkb3dDYWxscyxcbiAgICAgICAgICByZXNvbHZlcnMgPSBfdGhpcyRnZXRTdGF0ZTMucmVzb2x2ZXJzO1xuXG4gICAgICB2YXIgY2FsbCA9IGNhbGxzLmZpbmQoZnVuY3Rpb24gKF9yZWYxMSkge1xuICAgICAgICB2YXIgaWQgPSBfcmVmMTEuaWQ7XG4gICAgICAgIHJldHVybiBpZCA9PT0gY2FsbElkO1xuICAgICAgfSk7XG4gICAgICB2YXIgc2hhZG93Q2FsbCA9IHNoYWRvd0NhbGxzLmZpbmQoZnVuY3Rpb24gKF9yZWYxMikge1xuICAgICAgICB2YXIgaWQgPSBfcmVmMTIuaWQ7XG4gICAgICAgIHJldHVybiBpZCA9PT0gY2FsbElkO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghY2FsbCAmJiBzaGFkb3dDYWxsICYmIE9iamVjdC52YWx1ZXMocmVzb2x2ZXJzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBfdGhpcyRnZXRMb2ckZmluZDtcblxuICAgICAgICB2YXIgbmV4dElkID0gKF90aGlzJGdldExvZyRmaW5kID0gX3RoaXMuZ2V0TG9nKHN0b3J5SWQpLmZpbmQoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICByZXR1cm4gYy5zdGF0dXMgPT09IENhbGxTdGF0ZXMuV0FJVElORztcbiAgICAgICAgfSkpID09PSBudWxsIHx8IF90aGlzJGdldExvZyRmaW5kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRnZXRMb2ckZmluZC5jYWxsSWQ7XG4gICAgICAgIGlmIChzaGFkb3dDYWxsLmlkICE9PSBuZXh0SWQpIF90aGlzLnNldFN0YXRlKHN0b3J5SWQsIHtcbiAgICAgICAgICBwbGF5VW50aWw6IHNoYWRvd0NhbGwuaWRcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC52YWx1ZXMocmVzb2x2ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydCh7XG4gICAgICAgICAgc3RvcnlJZDogc3RvcnlJZCxcbiAgICAgICAgICBwbGF5VW50aWw6IGNhbGxJZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KF9yZWYxMykge1xuICAgICAgdmFyIHN0b3J5SWQgPSBfcmVmMTMuc3RvcnlJZDtcblxuICAgICAgdmFyIF90aGlzJGdldFN0YXRlNCA9IF90aGlzLmdldFN0YXRlKHN0b3J5SWQpLFxuICAgICAgICAgIHJlc29sdmVycyA9IF90aGlzJGdldFN0YXRlNC5yZXNvbHZlcnM7XG5cbiAgICAgIGlmIChPYmplY3QudmFsdWVzKHJlc29sdmVycykubGVuZ3RoID4gMCkge1xuICAgICAgICBPYmplY3QudmFsdWVzKHJlc29sdmVycykuZm9yRWFjaChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF90aGlzJGdldExvZyRmaW5kMjtcblxuICAgICAgICB2YXIgbmV4dElkID0gKF90aGlzJGdldExvZyRmaW5kMiA9IF90aGlzLmdldExvZyhzdG9yeUlkKS5maW5kKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgcmV0dXJuIGMuc3RhdHVzID09PSBDYWxsU3RhdGVzLldBSVRJTkc7XG4gICAgICAgIH0pKSA9PT0gbnVsbCB8fCBfdGhpcyRnZXRMb2ckZmluZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGdldExvZyRmaW5kMi5jYWxsSWQ7XG4gICAgICAgIGlmIChuZXh0SWQpIHN0YXJ0KHtcbiAgICAgICAgICBzdG9yeUlkOiBzdG9yeUlkLFxuICAgICAgICAgIHBsYXlVbnRpbDogbmV4dElkXG4gICAgICAgIH0pO2Vsc2UgZW5kKHtcbiAgICAgICAgICBzdG9yeUlkOiBzdG9yeUlkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgZW5kID0gZnVuY3Rpb24gZW5kKF9yZWYxNCkge1xuICAgICAgdmFyIHN0b3J5SWQgPSBfcmVmMTQuc3RvcnlJZDtcblxuICAgICAgX3RoaXMuc2V0U3RhdGUoc3RvcnlJZCwge1xuICAgICAgICBwbGF5VW50aWw6IHVuZGVmaW5lZCxcbiAgICAgICAgaXNEZWJ1Z2dpbmc6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgT2JqZWN0LnZhbHVlcyhfdGhpcy5nZXRTdGF0ZShzdG9yeUlkKS5yZXNvbHZlcnMpLmZvckVhY2goZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNoYW5uZWwub24oRVZFTlRTLlNUQVJULCBzdGFydCk7XG4gICAgdGhpcy5jaGFubmVsLm9uKEVWRU5UUy5CQUNLLCBiYWNrKTtcbiAgICB0aGlzLmNoYW5uZWwub24oRVZFTlRTLkdPVE8sIGdvdG8pO1xuICAgIHRoaXMuY2hhbm5lbC5vbihFVkVOVFMuTkVYVCwgbmV4dCk7XG4gICAgdGhpcy5jaGFubmVsLm9uKEVWRU5UUy5FTkQsIGVuZCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSW5zdHJ1bWVudGVyLCBbe1xuICAgIGtleTogXCJnZXRTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdGF0ZShzdG9yeUlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZVtzdG9yeUlkXSB8fCBnZXRJbml0aWFsU3RhdGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0U3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U3RhdGUoc3RvcnlJZCwgdXBkYXRlKSB7XG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLmdldFN0YXRlKHN0b3J5SWQpO1xuICAgICAgdmFyIHBhdGNoID0gdHlwZW9mIHVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IHVwZGF0ZShzdGF0ZSkgOiB1cGRhdGU7XG4gICAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSwgX2RlZmluZVByb3BlcnR5KHt9LCBzdG9yeUlkLCBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgcGF0Y2gpKSk7IC8vIFRyYWNrIHN0YXRlIG9uIHRoZSBwYXJlbnQgd2luZG93IHNvIHdlIGNhbiByZWxvYWQgdGhlIGlmcmFtZSB3aXRob3V0IGxvc2luZyBzdGF0ZS5cblxuICAgICAgZ2xvYmFsLndpbmRvdy5wYXJlbnQuX19TVE9SWUJPT0tfQURET05fSU5URVJBQ1RJT05TX0lOU1RSVU1FTlRFUl9TVEFURV9fID0gdGhpcy5zdGF0ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYW51cFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgLy8gUmVzZXQgc3RvcmllcyB3aXRoIHJldGFpbmVkIHN0YXRlIHRvIHRoZWlyIGluaXRpYWwgc3RhdGUsIGFuZCBkcm9wIHRoZSByZXN0LlxuICAgICAgdGhpcy5zdGF0ZSA9IE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGUpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBfcmVmMTUpIHtcbiAgICAgICAgdmFyIF9yZWYxNiA9IF9zbGljZWRUb0FycmF5KF9yZWYxNSwgMiksXG4gICAgICAgICAgICBzdG9yeUlkID0gX3JlZjE2WzBdLFxuICAgICAgICAgICAgc3RhdGUgPSBfcmVmMTZbMV07XG5cbiAgICAgICAgdmFyIHJldGFpbmVkU3RhdGUgPSBnZXRSZXRhaW5lZFN0YXRlKHN0YXRlKTtcbiAgICAgICAgaWYgKCFyZXRhaW5lZFN0YXRlKSByZXR1cm4gYWNjO1xuICAgICAgICBhY2Nbc3RvcnlJZF0gPSBPYmplY3QuYXNzaWduKGdldEluaXRpYWxTdGF0ZSgpLCByZXRhaW5lZFN0YXRlKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcbiAgICAgIHRoaXMuY2hhbm5lbC5lbWl0KEVWRU5UUy5TWU5DLCB7XG4gICAgICAgIGNvbnRyb2xTdGF0ZXM6IGNvbnRyb2xzRGlzYWJsZWQsXG4gICAgICAgIGxvZ0l0ZW1zOiBbXVxuICAgICAgfSk7XG4gICAgICBnbG9iYWwud2luZG93LnBhcmVudC5fX1NUT1JZQk9PS19BRERPTl9JTlRFUkFDVElPTlNfSU5TVFJVTUVOVEVSX1NUQVRFX18gPSB0aGlzLnN0YXRlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRMb2dcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TG9nKHN0b3J5SWQpIHtcbiAgICAgIHZhciBfdGhpcyRnZXRTdGF0ZTUgPSB0aGlzLmdldFN0YXRlKHN0b3J5SWQpLFxuICAgICAgICAgIGNhbGxzID0gX3RoaXMkZ2V0U3RhdGU1LmNhbGxzLFxuICAgICAgICAgIHNoYWRvd0NhbGxzID0gX3RoaXMkZ2V0U3RhdGU1LnNoYWRvd0NhbGxzO1xuXG4gICAgICB2YXIgbWVyZ2VkID0gX3RvQ29uc3VtYWJsZUFycmF5KHNoYWRvd0NhbGxzKTtcblxuICAgICAgY2FsbHMuZm9yRWFjaChmdW5jdGlvbiAoY2FsbCwgaW5kZXgpIHtcbiAgICAgICAgbWVyZ2VkW2luZGV4XSA9IGNhbGw7XG4gICAgICB9KTtcbiAgICAgIHZhciBzZWVuID0gbmV3IFNldCgpO1xuICAgICAgcmV0dXJuIG1lcmdlZC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoYWNjLCBjYWxsKSB7XG4gICAgICAgIGNhbGwuYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICBpZiAoYXJnICE9PSBudWxsICYmIGFyZyAhPT0gdm9pZCAwICYmIGFyZy5fX2NhbGxJZF9fKSB7XG4gICAgICAgICAgICBzZWVuLmFkZChhcmcuX19jYWxsSWRfXyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbC5wYXRoLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBpZiAobm9kZS5fX2NhbGxJZF9fKSB7XG4gICAgICAgICAgICBzZWVuLmFkZChub2RlLl9fY2FsbElkX18pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNhbGwuaW50ZXJjZXB0YWJsZSAmJiAhc2Vlbi5oYXMoY2FsbC5pZCkpIHtcbiAgICAgICAgICBhY2MudW5zaGlmdCh7XG4gICAgICAgICAgICBjYWxsSWQ6IGNhbGwuaWQsXG4gICAgICAgICAgICBzdGF0dXM6IGNhbGwuc3RhdHVzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2Vlbi5hZGQoY2FsbC5pZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwgW10pO1xuICAgIH0gLy8gVHJhdmVyc2VzIHRoZSBvYmplY3Qgc3RydWN0dXJlIHRvIHJlY3Vyc2l2ZWx5IHBhdGNoIGFsbCBmdW5jdGlvbiBwcm9wZXJ0aWVzLlxuICAgIC8vIFJldHVybnMgdGhlIG9yaWdpbmFsIG9iamVjdCwgb3IgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgY29uc3RydWN0b3IsXG4gICAgLy8gZGVwZW5kaW5nIG9uIHdoZXRoZXIgaXQgc2hvdWxkIG11dGF0ZS5cblxuICB9LCB7XG4gICAga2V5OiBcImluc3RydW1lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5zdHJ1bWVudChvYmosIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoIWlzSW5zdHJ1bWVudGFibGUob2JqKSkgcmV0dXJuIG9iajtcbiAgICAgIHZhciBfb3B0aW9ucyRtdXRhdGUgPSBvcHRpb25zLm11dGF0ZSxcbiAgICAgICAgICBtdXRhdGUgPSBfb3B0aW9ucyRtdXRhdGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkbXV0YXRlLFxuICAgICAgICAgIF9vcHRpb25zJHBhdGggPSBvcHRpb25zLnBhdGgsXG4gICAgICAgICAgcGF0aCA9IF9vcHRpb25zJHBhdGggPT09IHZvaWQgMCA/IFtdIDogX29wdGlvbnMkcGF0aDtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07IC8vIE5vdGhpbmcgdG8gcGF0Y2gsIGJ1dCBtaWdodCBiZSBpbnN0cnVtZW50YWJsZSwgc28gd2UgcmVjdXJzZVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBhY2Nba2V5XSA9IF90aGlzMi5pbnN0cnVtZW50KHZhbHVlLCBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgICBwYXRoOiBwYXRoLmNvbmNhdChrZXkpXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0gLy8gQWxyZWFkeSBwYXRjaGVkLCBzbyB3ZSBwYXNzIHRocm91Z2ggdW5jaGFuZ2VkXG5cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlLl9fb3JpZ2luYWxGbl9fID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9IC8vIFBhdGNoIHRoZSBmdW5jdGlvbiBhbmQgbWFyayBpdCBcInBhdGNoZWRcIiBieSBhZGRpbmcgYSByZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uXG5cblxuICAgICAgICBhY2Nba2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF90aGlzMi50cmFjayhrZXksIHZhbHVlLCBhcmdzLCBvcHRpb25zKTtcbiAgICAgICAgfTtcblxuICAgICAgICBhY2Nba2V5XS5fX29yaWdpbmFsRm5fXyA9IHZhbHVlOyAvLyBSZXVzZSB0aGUgb3JpZ2luYWwgbmFtZSBhcyB0aGUgcGF0Y2hlZCBmdW5jdGlvbidzIG5hbWVcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYWNjW2tleV0sICduYW1lJywge1xuICAgICAgICAgIHZhbHVlOiBrZXksXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICAgIH0pOyAvLyBEZWFsIHdpdGggZnVuY3Rpb25zIHRoYXQgYWxzbyBhY3QgbGlrZSBhbiBvYmplY3RcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGFjY1trZXldLCBfdGhpczIuaW5zdHJ1bWVudChPYmplY3QuYXNzaWduKHt9LCB2YWx1ZSksIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHBhdGg6IHBhdGguY29uY2F0KGtleSlcbiAgICAgICAgICB9KSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIG11dGF0ZSA/IG9iaiA6IGNvbnN0cnVjdChvYmopKTtcbiAgICB9IC8vIE1vbmtleSBwYXRjaCBhbiBvYmplY3QgbWV0aG9kIHRvIHJlY29yZCBjYWxscy5cbiAgICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiwgcmVjb3JkcyB0aGUgaW52b2NhdGlvbiAoXCJjYWxsXCIpIGFuZFxuICAgIC8vIHJldHVybnMgdGhlIG9yaWdpbmFsIHJlc3VsdC5cblxuICB9LCB7XG4gICAga2V5OiBcInRyYWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYWNrKG1ldGhvZCwgZm4sIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfYXJncyQsIF9nbG9iYWwkd2luZG93JF9fU1RPUiwgX2dsb2JhbCR3aW5kb3ckX19TVE9SMiwgX2dsb2JhbCR3aW5kb3ckX19TVE9SMztcblxuICAgICAgdmFyIHN0b3J5SWQgPSAoYXJncyA9PT0gbnVsbCB8fCBhcmdzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2FyZ3MkID0gYXJnc1swXSkgPT09IG51bGwgfHwgX2FyZ3MkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYXJncyQuX19zdG9yeUlkX18pIHx8ICgoX2dsb2JhbCR3aW5kb3ckX19TVE9SID0gZ2xvYmFsLndpbmRvdy5fX1NUT1JZQk9PS19QUkVWSUVXX18pID09PSBudWxsIHx8IF9nbG9iYWwkd2luZG93JF9fU1RPUiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9nbG9iYWwkd2luZG93JF9fU1RPUjIgPSBfZ2xvYmFsJHdpbmRvdyRfX1NUT1IudXJsU3RvcmUpID09PSBudWxsIHx8IF9nbG9iYWwkd2luZG93JF9fU1RPUjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZ2xvYmFsJHdpbmRvdyRfX1NUT1IzID0gX2dsb2JhbCR3aW5kb3ckX19TVE9SMi5zZWxlY3Rpb24pID09PSBudWxsIHx8IF9nbG9iYWwkd2luZG93JF9fU1RPUjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nbG9iYWwkd2luZG93JF9fU1RPUjMuc3RvcnlJZCk7XG5cbiAgICAgIHZhciBfdGhpcyRnZXRTdGF0ZTYgPSB0aGlzLmdldFN0YXRlKHN0b3J5SWQpLFxuICAgICAgICAgIGN1cnNvciA9IF90aGlzJGdldFN0YXRlNi5jdXJzb3IsXG4gICAgICAgICAgcGFyZW50SWQgPSBfdGhpcyRnZXRTdGF0ZTYucGFyZW50SWQ7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoc3RvcnlJZCwge1xuICAgICAgICBjdXJzb3I6IGN1cnNvciArIDFcbiAgICAgIH0pO1xuICAgICAgdmFyIGlkID0gXCJcIi5jb25jYXQocGFyZW50SWQgfHwgc3RvcnlJZCwgXCIgW1wiKS5jb25jYXQoY3Vyc29yLCBcIl0gXCIpLmNvbmNhdChtZXRob2QpO1xuICAgICAgdmFyIF9vcHRpb25zJHBhdGgyID0gb3B0aW9ucy5wYXRoLFxuICAgICAgICAgIHBhdGggPSBfb3B0aW9ucyRwYXRoMiA9PT0gdm9pZCAwID8gW10gOiBfb3B0aW9ucyRwYXRoMixcbiAgICAgICAgICBfb3B0aW9ucyRpbnRlcmNlcHQgPSBvcHRpb25zLmludGVyY2VwdCxcbiAgICAgICAgICBpbnRlcmNlcHQgPSBfb3B0aW9ucyRpbnRlcmNlcHQgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkaW50ZXJjZXB0LFxuICAgICAgICAgIF9vcHRpb25zJHJldGFpbiA9IG9wdGlvbnMucmV0YWluLFxuICAgICAgICAgIHJldGFpbiA9IF9vcHRpb25zJHJldGFpbiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfb3B0aW9ucyRyZXRhaW47XG4gICAgICB2YXIgaW50ZXJjZXB0YWJsZSA9IHR5cGVvZiBpbnRlcmNlcHQgPT09ICdmdW5jdGlvbicgPyBpbnRlcmNlcHQobWV0aG9kLCBwYXRoKSA6IGludGVyY2VwdDtcbiAgICAgIHZhciBjYWxsID0ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHBhcmVudElkOiBwYXJlbnRJZCxcbiAgICAgICAgc3RvcnlJZDogc3RvcnlJZCxcbiAgICAgICAgY3Vyc29yOiBjdXJzb3IsXG4gICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICBpbnRlcmNlcHRhYmxlOiBpbnRlcmNlcHRhYmxlLFxuICAgICAgICByZXRhaW46IHJldGFpblxuICAgICAgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoaW50ZXJjZXB0YWJsZSA/IHRoaXMuaW50ZXJjZXB0IDogdGhpcy5pbnZva2UpLmNhbGwodGhpcywgZm4sIGNhbGwsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXMuaW5zdHJ1bWVudChyZXN1bHQsIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgbXV0YXRlOiB0cnVlLFxuICAgICAgICBwYXRoOiBbe1xuICAgICAgICAgIF9fY2FsbElkX186IGNhbGwuaWRcbiAgICAgICAgfV1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW50ZXJjZXB0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGludGVyY2VwdChmbiwgY2FsbCwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBfdGhpcyRnZXRTdGF0ZTcgPSB0aGlzLmdldFN0YXRlKGNhbGwuc3RvcnlJZCksXG4gICAgICAgICAgY2hhaW5lZENhbGxJZHMgPSBfdGhpcyRnZXRTdGF0ZTcuY2hhaW5lZENhbGxJZHMsXG4gICAgICAgICAgaXNEZWJ1Z2dpbmcgPSBfdGhpcyRnZXRTdGF0ZTcuaXNEZWJ1Z2dpbmcsXG4gICAgICAgICAgcGxheVVudGlsID0gX3RoaXMkZ2V0U3RhdGU3LnBsYXlVbnRpbDsgLy8gRm9yIGEgXCJqdW1wIHRvIHN0ZXBcIiBhY3Rpb24sIGNvbnRpbnVlIHBsYXlpbmcgdW50aWwgd2UgaGl0IGEgY2FsbCBieSB0aGF0IElELlxuICAgICAgLy8gRm9yIGNoYWluZWQgY2FsbHMsIHdlIGNhbiBvbmx5IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSBsYXN0IGNhbGwgaW4gdGhlIGNoYWluLlxuXG5cbiAgICAgIHZhciBpc0NoYWluZWRVcG9uID0gY2hhaW5lZENhbGxJZHMuaGFzKGNhbGwuaWQpO1xuXG4gICAgICBpZiAoIWlzRGVidWdnaW5nIHx8IGlzQ2hhaW5lZFVwb24gfHwgcGxheVVudGlsKSB7XG4gICAgICAgIGlmIChwbGF5VW50aWwgPT09IGNhbGwuaWQpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKGNhbGwuc3RvcnlJZCwge1xuICAgICAgICAgICAgcGxheVVudGlsOiB1bmRlZmluZWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmludm9rZShmbiwgY2FsbCwgb3B0aW9ucyk7XG4gICAgICB9IC8vIEluc3RlYWQgb2YgaW52b2tpbmcgdGhlIGZ1bmN0aW9uLCBkZWZlciB0aGUgZnVuY3Rpb24gY2FsbCB1bnRpbCB3ZSBjb250aW51ZSBwbGF5aW5nLlxuXG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICBfdGhpczMuc2V0U3RhdGUoY2FsbC5zdG9yeUlkLCBmdW5jdGlvbiAoX3JlZjE3KSB7XG4gICAgICAgICAgdmFyIHJlc29sdmVycyA9IF9yZWYxNy5yZXNvbHZlcnM7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzTG9ja2VkOiBmYWxzZSxcbiAgICAgICAgICAgIHJlc29sdmVyczogT2JqZWN0LmFzc2lnbih7fSwgcmVzb2x2ZXJzLCBfZGVmaW5lUHJvcGVydHkoe30sIGNhbGwuaWQsIHJlc29sdmUpKVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zZXRTdGF0ZShjYWxsLnN0b3J5SWQsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgIHZhciBfc3RhdGUkcmVzb2x2ZXJzID0gc3RhdGUucmVzb2x2ZXJzLFxuICAgICAgICAgICAgICBfY2FsbCRpZCA9IGNhbGwuaWQsXG4gICAgICAgICAgICAgIF8gPSBfc3RhdGUkcmVzb2x2ZXJzW19jYWxsJGlkXSxcbiAgICAgICAgICAgICAgcmVzb2x2ZXJzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9zdGF0ZSRyZXNvbHZlcnMsIFtfY2FsbCRpZF0ubWFwKF90b1Byb3BlcnR5S2V5KSk7XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNMb2NrZWQ6IHRydWUsXG4gICAgICAgICAgICByZXNvbHZlcnM6IHJlc29sdmVyc1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBfdGhpczMuaW52b2tlKGZuLCBjYWxsLCBvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbnZva2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW52b2tlKGZuLCBjYWxsLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgLy8gVE9ETyB0aGlzIGRvZXNudCB3b3JrIGJlY2F1c2UgdGhlIGFib3J0U2lnbmFsIHdlIGhhdmUgaGVyZSBpcyB0aGUgbmV3bHkgY3JlYXRlZCBvbmVcbiAgICAgIC8vIGNvbnN0IHsgYWJvcnRTaWduYWwgfSA9IGdsb2JhbC53aW5kb3cuX19TVE9SWUJPT0tfUFJFVklFV19fIHx8IHt9O1xuICAgICAgLy8gaWYgKGFib3J0U2lnbmFsICYmIGFib3J0U2lnbmFsLmFib3J0ZWQpIHRocm93IElHTk9SRURfRVhDRVBUSU9OO1xuICAgICAgdmFyIF90aGlzJGdldFN0YXRlOCA9IHRoaXMuZ2V0U3RhdGUoY2FsbC5zdG9yeUlkKSxcbiAgICAgICAgICBjYWxsUmVmc0J5UmVzdWx0ID0gX3RoaXMkZ2V0U3RhdGU4LmNhbGxSZWZzQnlSZXN1bHQsXG4gICAgICAgICAgZm9yd2FyZGVkRXhjZXB0aW9uID0gX3RoaXMkZ2V0U3RhdGU4LmZvcndhcmRlZEV4Y2VwdGlvbixcbiAgICAgICAgICByZW5kZXJQaGFzZSA9IF90aGlzJGdldFN0YXRlOC5yZW5kZXJQaGFzZTtcblxuICAgICAgdmFyIGluZm8gPSBPYmplY3QuYXNzaWduKHt9LCBjYWxsLCB7XG4gICAgICAgIC8vIE1hcCBhcmdzIHRoYXQgb3JpZ2luYXRlIGZyb20gYSB0cmFja2VkIGZ1bmN0aW9uIGNhbGwgdG8gYSBjYWxsIHJlZmVyZW5jZSB0byBlbmFibGUgbmVzdGluZy5cbiAgICAgICAgLy8gVGhlc2UgdmFsdWVzIGFyZSBvZnRlbiBub3QgZnVsbHkgc2VyaWFsaXphYmxlIGFueXdheSAoZS5nLiBIVE1MIGVsZW1lbnRzKS5cbiAgICAgICAgYXJnczogY2FsbC5hcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgICAgaWYgKGNhbGxSZWZzQnlSZXN1bHQuaGFzKGFyZykpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsUmVmc0J5UmVzdWx0LmdldChhcmcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBnbG9iYWwud2luZG93LkhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ID0gYXJnLnByZWZpeCxcbiAgICAgICAgICAgICAgICBsb2NhbE5hbWUgPSBhcmcubG9jYWxOYW1lLFxuICAgICAgICAgICAgICAgIGlkID0gYXJnLmlkLFxuICAgICAgICAgICAgICAgIGNsYXNzTGlzdCA9IGFyZy5jbGFzc0xpc3QsXG4gICAgICAgICAgICAgICAgaW5uZXJUZXh0ID0gYXJnLmlubmVyVGV4dDtcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWVzID0gQXJyYXkuZnJvbShjbGFzc0xpc3QpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgX19lbGVtZW50X186IHtcbiAgICAgICAgICAgICAgICBwcmVmaXg6IHByZWZpeCxcbiAgICAgICAgICAgICAgICBsb2NhbE5hbWU6IGxvY2FsTmFtZSxcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lczogY2xhc3NOYW1lcyxcbiAgICAgICAgICAgICAgICBpbm5lclRleHQ6IGlubmVyVGV4dFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgIH0pXG4gICAgICB9KTsgLy8gTWFyayBhbnkgYW5jZXN0b3IgY2FsbHMgYXMgXCJjaGFpbmVkIHVwb25cIiBzbyB3ZSB3b24ndCBhdHRlbXB0IHRvIGRlZmVyIGl0IGxhdGVyLlxuXG4gICAgICBjYWxsLnBhdGguZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIGlmIChyZWYgIT09IG51bGwgJiYgcmVmICE9PSB2b2lkIDAgJiYgcmVmLl9fY2FsbElkX18pIHtcbiAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoY2FsbC5zdG9yeUlkLCBmdW5jdGlvbiAoX3JlZjE4KSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5lZENhbGxJZHMgPSBfcmVmMTguY2hhaW5lZENhbGxJZHM7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBjaGFpbmVkQ2FsbElkczogbmV3IFNldChBcnJheS5mcm9tKGNoYWluZWRDYWxsSWRzKS5jb25jYXQocmVmLl9fY2FsbElkX18pKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBoYW5kbGVFeGNlcHRpb24gPSBmdW5jdGlvbiBoYW5kbGVFeGNlcHRpb24oZSkge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgdmFyIG5hbWUgPSBlLm5hbWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UgPSBlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgIHN0YWNrID0gZS5zdGFjaztcbiAgICAgICAgICB2YXIgZXhjZXB0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICBzdGFjazogc3RhY2tcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgX3RoaXM0LnVwZGF0ZShPYmplY3QuYXNzaWduKHt9LCBpbmZvLCB7XG4gICAgICAgICAgICBzdGF0dXM6IENhbGxTdGF0ZXMuRVJST1IsXG4gICAgICAgICAgICBleGNlcHRpb246IGV4Y2VwdGlvblxuICAgICAgICAgIH0pKTsgLy8gQWx3YXlzIHRyYWNrIGVycm9ycyB0byB0aGVpciBvcmlnaW5hdGluZyBjYWxsLlxuXG5cbiAgICAgICAgICBfdGhpczQuc2V0U3RhdGUoY2FsbC5zdG9yeUlkLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGNhbGxSZWZzQnlSZXN1bHQ6IG5ldyBNYXAoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShBcnJheS5mcm9tKHN0YXRlLmNhbGxSZWZzQnlSZXN1bHQuZW50cmllcygpKSksIFtbZSwge1xuICAgICAgICAgICAgICAgIF9fY2FsbElkX186IGNhbGwuaWQsXG4gICAgICAgICAgICAgICAgcmV0YWluOiBjYWxsLnJldGFpblxuICAgICAgICAgICAgICB9XV0pKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTsgLy8gV2UgbmVlZCB0byB0aHJvdyB0byBicmVhayBvdXQgb2YgdGhlIHBsYXkgZnVuY3Rpb24sIGJ1dCB3ZSBkb24ndCB3YW50IHRvIHRyaWdnZXIgYSByZWRib3hcbiAgICAgICAgICAvLyBzbyB3ZSB0aHJvdyBhbiBpZ25vcmVkRXhjZXB0aW9uLCB3aGljaCBpcyBjYXVnaHQgYW5kIHNpbGVudGx5IGlnbm9yZWQgYnkgU3Rvcnlib29rLlxuXG5cbiAgICAgICAgICBpZiAoY2FsbC5pbnRlcmNlcHRhYmxlICYmIGUgIT09IGFscmVhZHlDb21wbGV0ZWRFeGNlcHRpb24pIHtcbiAgICAgICAgICAgIHRocm93IElHTk9SRURfRVhDRVBUSU9OO1xuICAgICAgICAgIH0gLy8gTm9uLWludGVyY2VwdGFibGUgY2FsbHMgbmVlZCB0aGVpciBleGNlcHRpb25zIGZvcndhcmRlZCB0byB0aGUgbmV4dCBpbnRlcmNlcHRhYmxlIGNhbGwuXG4gICAgICAgICAgLy8gSW4gY2FzZSBubyBpbnRlcmNlcHRhYmxlIGNhbGwgcGlja3MgaXQgdXAsIGl0J2xsIGdldCByZXRocm93biBpbiB0aGUgXCJjb21wbGV0ZWRcIiBwaGFzZS5cblxuXG4gICAgICAgICAgX3RoaXM0LnNldFN0YXRlKGNhbGwuc3RvcnlJZCwge1xuICAgICAgICAgICAgZm9yd2FyZGVkRXhjZXB0aW9uOiBlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGU7XG4gICAgICB9O1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBBbiBlYXJsaWVyLCBub24taW50ZXJjZXB0YWJsZSBjYWxsIG1pZ2h0IGhhdmUgZm9yd2FyZGVkIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAgaWYgKGZvcndhcmRlZEV4Y2VwdGlvbikge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY2FsbC5zdG9yeUlkLCB7XG4gICAgICAgICAgICBmb3J3YXJkZWRFeGNlcHRpb246IHVuZGVmaW5lZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRocm93IGZvcndhcmRlZEV4Y2VwdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJQaGFzZSA9PT0gJ3BsYXllZCcgJiYgIWNhbGwucmV0YWluKSB7XG4gICAgICAgICAgdGhyb3cgYWxyZWFkeUNvbXBsZXRlZEV4Y2VwdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmaW5hbEFyZ3MgPSBvcHRpb25zLmdldEFyZ3MgPyBvcHRpb25zLmdldEFyZ3MoY2FsbCwgdGhpcy5nZXRTdGF0ZShjYWxsLnN0b3J5SWQpKSA6IGNhbGwuYXJncztcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZuLmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KGZpbmFsQXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgIGlmICh0eXBlb2YgYXJnICE9PSAnZnVuY3Rpb24nIHx8IE9iamVjdC5rZXlzKGFyZykubGVuZ3RoKSByZXR1cm4gYXJnO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXM0JGdldFN0YXRlID0gX3RoaXM0LmdldFN0YXRlKGNhbGwuc3RvcnlJZCksXG4gICAgICAgICAgICAgICAgY3Vyc29yID0gX3RoaXM0JGdldFN0YXRlLmN1cnNvcixcbiAgICAgICAgICAgICAgICBwYXJlbnRJZCA9IF90aGlzNCRnZXRTdGF0ZS5wYXJlbnRJZDtcblxuICAgICAgICAgICAgX3RoaXM0LnNldFN0YXRlKGNhbGwuc3RvcnlJZCwge1xuICAgICAgICAgICAgICBjdXJzb3I6IDAsXG4gICAgICAgICAgICAgIHBhcmVudElkOiBjYWxsLmlkXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHJlc3RvcmUgPSBmdW5jdGlvbiByZXN0b3JlKCkge1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNldFN0YXRlKGNhbGwuc3RvcnlJZCwge1xuICAgICAgICAgICAgICAgIGN1cnNvcjogY3Vyc29yLFxuICAgICAgICAgICAgICAgIHBhcmVudElkOiBwYXJlbnRJZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZXMgPSBhcmcuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHJlcyBpbnN0YW5jZW9mIFByb21pc2UpIHJlcy50aGVuKHJlc3RvcmUsIHJlc3RvcmUpO2Vsc2UgcmVzdG9yZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICB9O1xuICAgICAgICB9KSkpOyAvLyBUcmFjayB0aGUgcmVzdWx0IHNvIHdlIGNhbiB0cmFjZSBsYXRlciB1c2VzIG9mIGl0IGJhY2sgdG8gdGhlIG9yaWdpbmF0aW5nIGNhbGwuXG4gICAgICAgIC8vIFByaW1pdGl2ZSByZXN1bHRzICh1bmRlZmluZWQsIG51bGwsIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyLCBCaWdJbnQpIGFyZSBpZ25vcmVkLlxuXG4gICAgICAgIGlmIChyZXN1bHQgJiYgWydvYmplY3QnLCAnZnVuY3Rpb24nLCAnc3ltYm9sJ10uaW5jbHVkZXMoX3R5cGVvZihyZXN1bHQpKSkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY2FsbC5zdG9yeUlkLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGNhbGxSZWZzQnlSZXN1bHQ6IG5ldyBNYXAoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShBcnJheS5mcm9tKHN0YXRlLmNhbGxSZWZzQnlSZXN1bHQuZW50cmllcygpKSksIFtbcmVzdWx0LCB7XG4gICAgICAgICAgICAgICAgX19jYWxsSWRfXzogY2FsbC5pZCxcbiAgICAgICAgICAgICAgICByZXRhaW46IGNhbGwucmV0YWluXG4gICAgICAgICAgICAgIH1dXSkpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGUoT2JqZWN0LmFzc2lnbih7fSwgaW5mbywge1xuICAgICAgICAgIHN0YXR1czogcmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSA/IENhbGxTdGF0ZXMuQUNUSVZFIDogQ2FsbFN0YXRlcy5ET05FXG4gICAgICAgIH0pKTtcblxuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIF90aGlzNC51cGRhdGUoT2JqZWN0LmFzc2lnbih7fSwgaW5mbywge1xuICAgICAgICAgICAgICBzdGF0dXM6IENhbGxTdGF0ZXMuRE9ORVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfSwgaGFuZGxlRXhjZXB0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVFeGNlcHRpb24oZSk7XG4gICAgICB9XG4gICAgfSAvLyBTZW5kcyB0aGUgY2FsbCBpbmZvIGFuZCBsb2cgdG8gdGhlIG1hbmFnZXIuXG4gICAgLy8gVXNlcyBhIDBtcyBkZWJvdW5jZSBiZWNhdXNlIHRoaXMgbWlnaHQgZ2V0IGNhbGxlZCBtYW55IHRpbWVzIGluIG9uZSB0aWNrLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShjYWxsKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZ2V0U3RhdGUoY2FsbC5zdG9yeUlkKS5zeW5jVGltZW91dCk7XG4gICAgICB0aGlzLmNoYW5uZWwuZW1pdChFVkVOVFMuQ0FMTCwgY2FsbCk7XG4gICAgICB0aGlzLnNldFN0YXRlKGNhbGwuc3RvcnlJZCwgZnVuY3Rpb24gKF9yZWYxOSkge1xuICAgICAgICB2YXIgY2FsbHMgPSBfcmVmMTkuY2FsbHM7XG4gICAgICAgIC8vIE9taXQgZWFybGllciBjYWxscyBmb3IgdGhlIHNhbWUgSUQsIHdoaWNoIG1heSBoYXZlIGJlZW4gc3VwZXJjZWRlZCBieSBhIGxhdGVyIGludm9jYXRpb24uXG4gICAgICAgIC8vIFRoaXMgdHlwaWNhbGx5IGhhcHBlbnMgd2hlbiBjYWxscyBhcmUgcGFydCBvZiBhIGNhbGxiYWNrIHdoaWNoIHJ1bnMgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgIHZhciBjYWxsc0J5SWQgPSBjYWxscy5jb25jYXQoY2FsbCkucmVkdWNlKGZ1bmN0aW9uIChhLCBjKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYSwgX2RlZmluZVByb3BlcnR5KHt9LCBjLmlkLCBjKSk7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAvLyBDYWxscyBhcmUgc29ydGVkIHRvIGVuc3VyZSBwYXJlbnQgY2FsbHMgYWx3YXlzIGNvbWUgYmVmb3JlIGNhbGxzIGluIHRoZWlyIGNhbGxiYWNrLlxuICAgICAgICAgIGNhbGxzOiBPYmplY3QudmFsdWVzKGNhbGxzQnlJZCkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEuaWQubG9jYWxlQ29tcGFyZShiLmlkLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgbnVtZXJpYzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgc3luY1RpbWVvdXQ6IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5zeW5jKGNhbGwuc3RvcnlJZCk7XG4gICAgICAgICAgfSwgMClcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzeW5jXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN5bmMoc3RvcnlJZCkge1xuICAgICAgdmFyIF90aGlzJGdldFN0YXRlOSA9IHRoaXMuZ2V0U3RhdGUoc3RvcnlJZCksXG4gICAgICAgICAgaXNMb2NrZWQgPSBfdGhpcyRnZXRTdGF0ZTkuaXNMb2NrZWQsXG4gICAgICAgICAgaXNQbGF5aW5nID0gX3RoaXMkZ2V0U3RhdGU5LmlzUGxheWluZztcblxuICAgICAgdmFyIGxvZ0l0ZW1zID0gdGhpcy5nZXRMb2coc3RvcnlJZCk7XG4gICAgICB2YXIgaGFzQWN0aXZlID0gbG9nSXRlbXMuc29tZShmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5zdGF0dXMgPT09IENhbGxTdGF0ZXMuQUNUSVZFO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChkZWJ1Z2dlckRpc2FibGVkIHx8IGlzTG9ja2VkIHx8IGhhc0FjdGl2ZSB8fCBsb2dJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5jaGFubmVsLmVtaXQoRVZFTlRTLlNZTkMsIHtcbiAgICAgICAgICBjb250cm9sU3RhdGVzOiBjb250cm9sc0Rpc2FibGVkLFxuICAgICAgICAgIGxvZ0l0ZW1zOiBsb2dJdGVtc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGFzUHJldmlvdXMgPSBsb2dJdGVtcy5zb21lKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBbQ2FsbFN0YXRlcy5ET05FLCBDYWxsU3RhdGVzLkVSUk9SXS5pbmNsdWRlcyhpdGVtLnN0YXR1cyk7XG4gICAgICB9KTtcbiAgICAgIHZhciBjb250cm9sU3RhdGVzID0ge1xuICAgICAgICBkZWJ1Z2dlcjogdHJ1ZSxcbiAgICAgICAgc3RhcnQ6IGhhc1ByZXZpb3VzLFxuICAgICAgICBiYWNrOiBoYXNQcmV2aW91cyxcbiAgICAgICAgZ290bzogdHJ1ZSxcbiAgICAgICAgbmV4dDogaXNQbGF5aW5nLFxuICAgICAgICBlbmQ6IGlzUGxheWluZ1xuICAgICAgfTtcbiAgICAgIHRoaXMuY2hhbm5lbC5lbWl0KEVWRU5UUy5TWU5DLCB7XG4gICAgICAgIGNvbnRyb2xTdGF0ZXM6IGNvbnRyb2xTdGF0ZXMsXG4gICAgICAgIGxvZ0l0ZW1zOiBsb2dJdGVtc1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEluc3RydW1lbnRlcjtcbn0oKTtcbi8qKlxuICogSW5zdHJ1bWVudHMgYW4gb2JqZWN0IG9yIG1vZHVsZSBieSB0cmF2ZXJzaW5nIGl0cyBwcm9wZXJ0aWVzLCBwYXRjaGluZyBhbnkgZnVuY3Rpb25zIChtZXRob2RzKVxuICogdG8gZW5hYmxlIGRlYnVnZ2luZy4gUGF0Y2hlZCBmdW5jdGlvbnMgd2lsbCBlbWl0IGEgYGNhbGxgIGV2ZW50IHdoZW4gaW52b2tlZC5cbiAqIFdoZW4gaW50ZXJjZXB0ID0gdHJ1ZSwgcGF0Y2hlZCBmdW5jdGlvbnMgd2lsbCByZXR1cm4gYSBQcm9taXNlIHdoZW4gdGhlIGRlYnVnZ2VyIHN0b3BzIGJlZm9yZVxuICogdGhpcyBmdW5jdGlvbi4gQXMgc3VjaCwgXCJpbnRlcmNlcHRhYmxlXCIgZnVuY3Rpb25zIHdpbGwgaGF2ZSB0byBiZSBgYXdhaXRgLWVkLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnN0cnVtZW50KG9iaikge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgdHJ5IHtcbiAgICB2YXIgX2dsb2JhbCR3aW5kb3ckbG9jYXRpLCBfZ2xvYmFsJHdpbmRvdyRsb2NhdGkyLCBfZ2xvYmFsJHdpbmRvdyRsb2NhdGkzLCBfZ2xvYmFsJHdpbmRvdyRsb2NhdGk0O1xuXG4gICAgdmFyIGZvcmNlSW5zdHJ1bWVudCA9IGZhbHNlO1xuICAgIHZhciBza2lwSW5zdHJ1bWVudCA9IGZhbHNlO1xuXG4gICAgaWYgKCgoX2dsb2JhbCR3aW5kb3ckbG9jYXRpID0gZ2xvYmFsLndpbmRvdy5sb2NhdGlvbikgPT09IG51bGwgfHwgX2dsb2JhbCR3aW5kb3ckbG9jYXRpID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2dsb2JhbCR3aW5kb3ckbG9jYXRpMiA9IF9nbG9iYWwkd2luZG93JGxvY2F0aS5zZWFyY2gpID09PSBudWxsIHx8IF9nbG9iYWwkd2luZG93JGxvY2F0aTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nbG9iYWwkd2luZG93JGxvY2F0aTIuaW5kZXhPZignaW5zdHJ1bWVudD10cnVlJykpICE9PSAtMSkge1xuICAgICAgZm9yY2VJbnN0cnVtZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCgoX2dsb2JhbCR3aW5kb3ckbG9jYXRpMyA9IGdsb2JhbC53aW5kb3cubG9jYXRpb24pID09PSBudWxsIHx8IF9nbG9iYWwkd2luZG93JGxvY2F0aTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZ2xvYmFsJHdpbmRvdyRsb2NhdGk0ID0gX2dsb2JhbCR3aW5kb3ckbG9jYXRpMy5zZWFyY2gpID09PSBudWxsIHx8IF9nbG9iYWwkd2luZG93JGxvY2F0aTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nbG9iYWwkd2luZG93JGxvY2F0aTQuaW5kZXhPZignaW5zdHJ1bWVudD1mYWxzZScpKSAhPT0gLTEpIHtcbiAgICAgIHNraXBJbnN0cnVtZW50ID0gdHJ1ZTtcbiAgICB9IC8vIERvbid0IGRvIGFueSBpbnN0cnVtZW50YXRpb24gaWYgbm90IGxvYWRlZCBpbiBhbiBpZnJhbWUgdW5sZXNzIGl0J3MgZm9yY2VkIC0gaW5zdHJ1bWVudGF0aW9uIGNhbiBhbHNvIGJlIHNraXBwZWQuXG5cblxuICAgIGlmIChnbG9iYWwud2luZG93LnBhcmVudCA9PT0gZ2xvYmFsLndpbmRvdyAmJiAhZm9yY2VJbnN0cnVtZW50IHx8IHNraXBJbnN0cnVtZW50KSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0gLy8gT25seSBjcmVhdGUgYW4gaW5zdGFuY2UgaWYgd2UgZG9uJ3QgaGF2ZSBvbmUgKHNpbmdsZXRvbikgeWV0LlxuXG5cbiAgICBpZiAoIWdsb2JhbC53aW5kb3cuX19TVE9SWUJPT0tfQURET05fSU5URVJBQ1RJT05TX0lOU1RSVU1FTlRFUl9fKSB7XG4gICAgICBnbG9iYWwud2luZG93Ll9fU1RPUllCT09LX0FERE9OX0lOVEVSQUNUSU9OU19JTlNUUlVNRU5URVJfXyA9IG5ldyBJbnN0cnVtZW50ZXIoKTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdHJ1bWVudGVyID0gZ2xvYmFsLndpbmRvdy5fX1NUT1JZQk9PS19BRERPTl9JTlRFUkFDVElPTlNfSU5TVFJVTUVOVEVSX187XG4gICAgcmV0dXJuIGluc3RydW1lbnRlci5pbnN0cnVtZW50KG9iaiwgb3B0aW9ucyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBBY2Nlc3MgdG8gdGhlIHBhcmVudCB3aW5kb3cgbWlnaHQgZmFpbCBkdWUgdG8gQ09SUyByZXN0cmljdGlvbnMuXG4gICAgb25jZS53YXJuKGUpO1xuICAgIHJldHVybiBvYmo7XG4gIH1cbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5zcHlPbiA9IGV4cG9ydHMubW9ja2VkID0gZXhwb3J0cy5mbiA9IGV4cG9ydHMuTW9kdWxlTW9ja2VyID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgbG9jYWwvYmFuLXR5cGVzLWV2ZW50dWFsbHksIGxvY2FsL3ByZWZlci1yZXN0LXBhcmFtcy1ldmVudHVhbGx5ICovXG5cbi8qKlxuICogUG9zc2libGUgdHlwZXMgb2YgYSBNb2NrRnVuY3Rpb25SZXN1bHQuXG4gKiAncmV0dXJuJzogVGhlIGNhbGwgY29tcGxldGVkIGJ5IHJldHVybmluZyBub3JtYWxseS5cbiAqICd0aHJvdyc6IFRoZSBjYWxsIGNvbXBsZXRlZCBieSB0aHJvd2luZyBhIHZhbHVlLlxuICogJ2luY29tcGxldGUnOiBUaGUgY2FsbCBoYXMgbm90IGNvbXBsZXRlZCB5ZXQuIFRoaXMgaXMgcG9zc2libGUgaWYgeW91IHJlYWRcbiAqICAgICAgICAgICAgICAgdGhlICBtb2NrIGZ1bmN0aW9uIHJlc3VsdCBmcm9tIHdpdGhpbiB0aGUgbW9jayBmdW5jdGlvbiBpdHNlbGZcbiAqICAgICAgICAgICAgICAgKG9yIGEgZnVuY3Rpb24gY2FsbGVkIGJ5IHRoZSBtb2NrIGZ1bmN0aW9uKS5cbiAqL1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIHJlc3VsdCBvZiBhIHNpbmdsZSBjYWxsIHRvIGEgbW9jayBmdW5jdGlvbi5cbiAqL1xuLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMTVcbmNvbnN0IE1PQ0tfQ09OU1RSVUNUT1JfTkFNRSA9ICdtb2NrQ29uc3RydWN0b3InO1xuY29uc3QgRlVOQ1RJT05fTkFNRV9SRVNFUlZFRF9QQVRURVJOID0gL1tcXHMhLVxcLzotQFxcWy1gey1+XS87XG5jb25zdCBGVU5DVElPTl9OQU1FX1JFU0VSVkVEX1JFUExBQ0UgPSBuZXcgUmVnRXhwKFxuICBGVU5DVElPTl9OQU1FX1JFU0VSVkVEX1BBVFRFUk4uc291cmNlLFxuICAnZydcbik7XG5jb25zdCBSRVNFUlZFRF9LRVlXT1JEUyA9IG5ldyBTZXQoW1xuICAnYXJndW1lbnRzJyxcbiAgJ2F3YWl0JyxcbiAgJ2JyZWFrJyxcbiAgJ2Nhc2UnLFxuICAnY2F0Y2gnLFxuICAnY2xhc3MnLFxuICAnY29uc3QnLFxuICAnY29udGludWUnLFxuICAnZGVidWdnZXInLFxuICAnZGVmYXVsdCcsXG4gICdkZWxldGUnLFxuICAnZG8nLFxuICAnZWxzZScsXG4gICdlbnVtJyxcbiAgJ2V2YWwnLFxuICAnZXhwb3J0JyxcbiAgJ2V4dGVuZHMnLFxuICAnZmFsc2UnLFxuICAnZmluYWxseScsXG4gICdmb3InLFxuICAnZnVuY3Rpb24nLFxuICAnaWYnLFxuICAnaW1wbGVtZW50cycsXG4gICdpbXBvcnQnLFxuICAnaW4nLFxuICAnaW5zdGFuY2VvZicsXG4gICdpbnRlcmZhY2UnLFxuICAnbGV0JyxcbiAgJ25ldycsXG4gICdudWxsJyxcbiAgJ3BhY2thZ2UnLFxuICAncHJpdmF0ZScsXG4gICdwcm90ZWN0ZWQnLFxuICAncHVibGljJyxcbiAgJ3JldHVybicsXG4gICdzdGF0aWMnLFxuICAnc3VwZXInLFxuICAnc3dpdGNoJyxcbiAgJ3RoaXMnLFxuICAndGhyb3cnLFxuICAndHJ1ZScsXG4gICd0cnknLFxuICAndHlwZW9mJyxcbiAgJ3ZhcicsXG4gICd2b2lkJyxcbiAgJ3doaWxlJyxcbiAgJ3dpdGgnLFxuICAneWllbGQnXG5dKTtcblxuZnVuY3Rpb24gbWF0Y2hBcml0eShmbiwgbGVuZ3RoKSB7XG4gIGxldCBtb2NrQ29uc3RydWN0b3I7XG5cbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6XG4gICAgICBtb2NrQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgMjpcbiAgICAgIG1vY2tDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChfYSwgX2IpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgMzpcbiAgICAgIG1vY2tDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChfYSwgX2IsIF9jKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDQ6XG4gICAgICBtb2NrQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoX2EsIF9iLCBfYywgX2QpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgNTpcbiAgICAgIG1vY2tDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChfYSwgX2IsIF9jLCBfZCwgX2UpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgNjpcbiAgICAgIG1vY2tDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChfYSwgX2IsIF9jLCBfZCwgX2UsIF9mKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDc6XG4gICAgICBtb2NrQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2cpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgODpcbiAgICAgIG1vY2tDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgOTpcbiAgICAgIG1vY2tDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgbW9ja0NvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG5cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIG1vY2tDb25zdHJ1Y3Rvcjtcbn1cblxuZnVuY3Rpb24gZ2V0T2JqZWN0VHlwZSh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh2YWx1ZSkuc2xpY2UoOCwgLTEpO1xufVxuXG5mdW5jdGlvbiBnZXRUeXBlKHJlZikge1xuICBjb25zdCB0eXBlTmFtZSA9IGdldE9iamVjdFR5cGUocmVmKTtcblxuICBpZiAoXG4gICAgdHlwZU5hbWUgPT09ICdGdW5jdGlvbicgfHxcbiAgICB0eXBlTmFtZSA9PT0gJ0FzeW5jRnVuY3Rpb24nIHx8XG4gICAgdHlwZU5hbWUgPT09ICdHZW5lcmF0b3JGdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbic7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZWYpKSB7XG4gICAgcmV0dXJuICdhcnJheSc7XG4gIH0gZWxzZSBpZiAodHlwZU5hbWUgPT09ICdPYmplY3QnKSB7XG4gICAgcmV0dXJuICdvYmplY3QnO1xuICB9IGVsc2UgaWYgKFxuICAgIHR5cGVOYW1lID09PSAnTnVtYmVyJyB8fFxuICAgIHR5cGVOYW1lID09PSAnU3RyaW5nJyB8fFxuICAgIHR5cGVOYW1lID09PSAnQm9vbGVhbicgfHxcbiAgICB0eXBlTmFtZSA9PT0gJ1N5bWJvbCdcbiAgKSB7XG4gICAgcmV0dXJuICdjb25zdGFudCc7XG4gIH0gZWxzZSBpZiAoXG4gICAgdHlwZU5hbWUgPT09ICdNYXAnIHx8XG4gICAgdHlwZU5hbWUgPT09ICdXZWFrTWFwJyB8fFxuICAgIHR5cGVOYW1lID09PSAnU2V0J1xuICApIHtcbiAgICByZXR1cm4gJ2NvbGxlY3Rpb24nO1xuICB9IGVsc2UgaWYgKHR5cGVOYW1lID09PSAnUmVnRXhwJykge1xuICAgIHJldHVybiAncmVnZXhwJztcbiAgfSBlbHNlIGlmIChyZWYgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgfSBlbHNlIGlmIChyZWYgPT09IG51bGwpIHtcbiAgICByZXR1cm4gJ251bGwnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzUmVhZG9ubHlQcm9wKG9iamVjdCwgcHJvcCkge1xuICBpZiAoXG4gICAgcHJvcCA9PT0gJ2FyZ3VtZW50cycgfHxcbiAgICBwcm9wID09PSAnY2FsbGVyJyB8fFxuICAgIHByb3AgPT09ICdjYWxsZWUnIHx8XG4gICAgcHJvcCA9PT0gJ25hbWUnIHx8XG4gICAgcHJvcCA9PT0gJ2xlbmd0aCdcbiAgKSB7XG4gICAgY29uc3QgdHlwZU5hbWUgPSBnZXRPYmplY3RUeXBlKG9iamVjdCk7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVOYW1lID09PSAnRnVuY3Rpb24nIHx8XG4gICAgICB0eXBlTmFtZSA9PT0gJ0FzeW5jRnVuY3Rpb24nIHx8XG4gICAgICB0eXBlTmFtZSA9PT0gJ0dlbmVyYXRvckZ1bmN0aW9uJ1xuICAgICk7XG4gIH1cblxuICBpZiAoXG4gICAgcHJvcCA9PT0gJ3NvdXJjZScgfHxcbiAgICBwcm9wID09PSAnZ2xvYmFsJyB8fFxuICAgIHByb3AgPT09ICdpZ25vcmVDYXNlJyB8fFxuICAgIHByb3AgPT09ICdtdWx0aWxpbmUnXG4gICkge1xuICAgIHJldHVybiBnZXRPYmplY3RUeXBlKG9iamVjdCkgPT09ICdSZWdFeHAnO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5jbGFzcyBNb2R1bGVNb2NrZXIge1xuICAvKipcbiAgICogQHNlZSBSRUFETUUubWRcbiAgICogQHBhcmFtIGdsb2JhbCBHbG9iYWwgb2JqZWN0IG9mIHRoZSB0ZXN0IGVudmlyb25tZW50LCB1c2VkIHRvIGNyZWF0ZVxuICAgKiBtb2Nrc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZ2xvYmFsKSB7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICdfZW52aXJvbm1lbnRHbG9iYWwnLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICdfbW9ja1N0YXRlJywgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX21vY2tDb25maWdSZWdpc3RyeScsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgJ19zcHlTdGF0ZScsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgJ19pbnZvY2F0aW9uQ2FsbENvdW50ZXInLCB2b2lkIDApO1xuXG4gICAgdGhpcy5fZW52aXJvbm1lbnRHbG9iYWwgPSBnbG9iYWw7XG4gICAgdGhpcy5fbW9ja1N0YXRlID0gbmV3IFdlYWtNYXAoKTtcbiAgICB0aGlzLl9tb2NrQ29uZmlnUmVnaXN0cnkgPSBuZXcgV2Vha01hcCgpO1xuICAgIHRoaXMuX3NweVN0YXRlID0gbmV3IFNldCgpO1xuICAgIHRoaXMuX2ludm9jYXRpb25DYWxsQ291bnRlciA9IDE7XG4gIH1cblxuICBfZ2V0U2xvdHMob2JqZWN0KSB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBzbG90cyA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBFbnZPYmplY3RQcm90byA9IHRoaXMuX2Vudmlyb25tZW50R2xvYmFsLk9iamVjdC5wcm90b3R5cGU7XG4gICAgY29uc3QgRW52RnVuY3Rpb25Qcm90byA9IHRoaXMuX2Vudmlyb25tZW50R2xvYmFsLkZ1bmN0aW9uLnByb3RvdHlwZTtcbiAgICBjb25zdCBFbnZSZWdFeHBQcm90byA9IHRoaXMuX2Vudmlyb25tZW50R2xvYmFsLlJlZ0V4cC5wcm90b3R5cGU7IC8vIEFsc28gY2hlY2sgdGhlIGJ1aWx0aW5zIGluIHRoZSBjdXJyZW50IGNvbnRleHQgYXMgdGhleSBsZWFrIHRocm91Z2hcbiAgICAvLyBjb3JlIG5vZGUgbW9kdWxlcy5cblxuICAgIGNvbnN0IE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgICBjb25zdCBGdW5jdGlvblByb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICAgIGNvbnN0IFJlZ0V4cFByb3RvID0gUmVnRXhwLnByb3RvdHlwZTsgLy8gUHJvcGVydGllcyBvZiBPYmplY3QucHJvdG90eXBlLCBGdW5jdGlvbi5wcm90b3R5cGUgYW5kIFJlZ0V4cC5wcm90b3R5cGVcbiAgICAvLyBhcmUgbmV2ZXIgcmVwb3J0ZWQgYXMgc2xvdHNcblxuICAgIHdoaWxlIChcbiAgICAgIG9iamVjdCAhPSBudWxsICYmXG4gICAgICBvYmplY3QgIT09IEVudk9iamVjdFByb3RvICYmXG4gICAgICBvYmplY3QgIT09IEVudkZ1bmN0aW9uUHJvdG8gJiZcbiAgICAgIG9iamVjdCAhPT0gRW52UmVnRXhwUHJvdG8gJiZcbiAgICAgIG9iamVjdCAhPT0gT2JqZWN0UHJvdG8gJiZcbiAgICAgIG9iamVjdCAhPT0gRnVuY3Rpb25Qcm90byAmJlxuICAgICAgb2JqZWN0ICE9PSBSZWdFeHBQcm90b1xuICAgICkge1xuICAgICAgY29uc3Qgb3duTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG93bk5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBvd25OYW1lc1tpXTtcblxuICAgICAgICBpZiAoIWlzUmVhZG9ubHlQcm9wKG9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICBjb25zdCBwcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wKTtcblxuICAgICAgICAgIGlmICgocHJvcERlc2MgIT09IHVuZGVmaW5lZCAmJiAhcHJvcERlc2MuZ2V0KSB8fCBvYmplY3QuX19lc01vZHVsZSkge1xuICAgICAgICAgICAgc2xvdHMuYWRkKHByb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvYmplY3QgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShzbG90cyk7XG4gIH1cblxuICBfZW5zdXJlTW9ja0NvbmZpZyhmKSB7XG4gICAgbGV0IGNvbmZpZyA9IHRoaXMuX21vY2tDb25maWdSZWdpc3RyeS5nZXQoZik7XG5cbiAgICBpZiAoIWNvbmZpZykge1xuICAgICAgY29uZmlnID0gdGhpcy5fZGVmYXVsdE1vY2tDb25maWcoKTtcblxuICAgICAgdGhpcy5fbW9ja0NvbmZpZ1JlZ2lzdHJ5LnNldChmLCBjb25maWcpO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBfZW5zdXJlTW9ja1N0YXRlKGYpIHtcbiAgICBsZXQgc3RhdGUgPSB0aGlzLl9tb2NrU3RhdGUuZ2V0KGYpO1xuXG4gICAgaWYgKCFzdGF0ZSkge1xuICAgICAgc3RhdGUgPSB0aGlzLl9kZWZhdWx0TW9ja1N0YXRlKCk7XG5cbiAgICAgIHRoaXMuX21vY2tTdGF0ZS5zZXQoZiwgc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5jYWxscy5sZW5ndGggPiAwKSB7XG4gICAgICBzdGF0ZS5sYXN0Q2FsbCA9IHN0YXRlLmNhbGxzW3N0YXRlLmNhbGxzLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIF9kZWZhdWx0TW9ja0NvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbW9ja0ltcGw6IHVuZGVmaW5lZCxcbiAgICAgIG1vY2tOYW1lOiAnamVzdC5mbigpJyxcbiAgICAgIHNwZWNpZmljTW9ja0ltcGxzOiBbXSxcbiAgICAgIHNwZWNpZmljUmV0dXJuVmFsdWVzOiBbXVxuICAgIH07XG4gIH1cblxuICBfZGVmYXVsdE1vY2tTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2FsbHM6IFtdLFxuICAgICAgaW5zdGFuY2VzOiBbXSxcbiAgICAgIGludm9jYXRpb25DYWxsT3JkZXI6IFtdLFxuICAgICAgcmVzdWx0czogW11cbiAgICB9O1xuICB9XG5cbiAgX21ha2VDb21wb25lbnQobWV0YWRhdGEsIHJlc3RvcmUpIHtcbiAgICBpZiAobWV0YWRhdGEudHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBuZXcgdGhpcy5fZW52aXJvbm1lbnRHbG9iYWwuT2JqZWN0KCk7XG4gICAgfSBlbHNlIGlmIChtZXRhZGF0YS50eXBlID09PSAnYXJyYXknKSB7XG4gICAgICByZXR1cm4gbmV3IHRoaXMuX2Vudmlyb25tZW50R2xvYmFsLkFycmF5KCk7XG4gICAgfSBlbHNlIGlmIChtZXRhZGF0YS50eXBlID09PSAncmVnZXhwJykge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLl9lbnZpcm9ubWVudEdsb2JhbC5SZWdFeHAoJycpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBtZXRhZGF0YS50eXBlID09PSAnY29uc3RhbnQnIHx8XG4gICAgICBtZXRhZGF0YS50eXBlID09PSAnY29sbGVjdGlvbicgfHxcbiAgICAgIG1ldGFkYXRhLnR5cGUgPT09ICdudWxsJyB8fFxuICAgICAgbWV0YWRhdGEudHlwZSA9PT0gJ3VuZGVmaW5lZCdcbiAgICApIHtcbiAgICAgIHJldHVybiBtZXRhZGF0YS52YWx1ZTtcbiAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IHByb3RvdHlwZSA9XG4gICAgICAgIChtZXRhZGF0YS5tZW1iZXJzICYmXG4gICAgICAgICAgbWV0YWRhdGEubWVtYmVycy5wcm90b3R5cGUgJiZcbiAgICAgICAgICBtZXRhZGF0YS5tZW1iZXJzLnByb3RvdHlwZS5tZW1iZXJzKSB8fFxuICAgICAgICB7fTtcblxuICAgICAgY29uc3QgcHJvdG90eXBlU2xvdHMgPSB0aGlzLl9nZXRTbG90cyhwcm90b3R5cGUpO1xuXG4gICAgICBjb25zdCBtb2NrZXIgPSB0aGlzO1xuICAgICAgY29uc3QgbW9ja0NvbnN0cnVjdG9yID0gbWF0Y2hBcml0eShmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBjb25zdCBtb2NrU3RhdGUgPSBtb2NrZXIuX2Vuc3VyZU1vY2tTdGF0ZShmKTtcblxuICAgICAgICBjb25zdCBtb2NrQ29uZmlnID0gbW9ja2VyLl9lbnN1cmVNb2NrQ29uZmlnKGYpO1xuXG4gICAgICAgIG1vY2tTdGF0ZS5pbnN0YW5jZXMucHVzaCh0aGlzKTtcbiAgICAgICAgbW9ja1N0YXRlLmNhbGxzLnB1c2goYXJncyk7IC8vIENyZWF0ZSBhbmQgcmVjb3JkIGFuIFwiaW5jb21wbGV0ZVwiIG1vY2sgcmVzdWx0IGltbWVkaWF0ZWx5IHVwb25cbiAgICAgICAgLy8gY2FsbGluZyByYXRoZXIgdGhhbiB3YWl0aW5nIGZvciB0aGUgbW9jayB0byByZXR1cm4uIFRoaXMgYXZvaWRzXG4gICAgICAgIC8vIGlzc3VlcyBjYXVzZWQgYnkgcmVjdXJzaW9uIHdoZXJlIHJlc3VsdHMgY2FuIGJlIHJlY29yZGVkIGluIHRoZVxuICAgICAgICAvLyB3cm9uZyBvcmRlci5cblxuICAgICAgICBjb25zdCBtb2NrUmVzdWx0ID0ge1xuICAgICAgICAgIHR5cGU6ICdpbmNvbXBsZXRlJyxcbiAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICAgIG1vY2tTdGF0ZS5yZXN1bHRzLnB1c2gobW9ja1Jlc3VsdCk7XG4gICAgICAgIG1vY2tTdGF0ZS5pbnZvY2F0aW9uQ2FsbE9yZGVyLnB1c2gobW9ja2VyLl9pbnZvY2F0aW9uQ2FsbENvdW50ZXIrKyk7IC8vIFdpbGwgYmUgc2V0IHRvIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIG1vY2sgaWYgYW4gZXJyb3IgaXMgbm90IHRocm93blxuXG4gICAgICAgIGxldCBmaW5hbFJldHVyblZhbHVlOyAvLyBXaWxsIGJlIHNldCB0byB0aGUgZXJyb3IgdGhhdCBpcyB0aHJvd24gYnkgdGhlIG1vY2sgKGlmIGl0IHRocm93cylcblxuICAgICAgICBsZXQgdGhyb3duRXJyb3I7IC8vIFdpbGwgYmUgc2V0IHRvIHRydWUgaWYgdGhlIG1vY2sgdGhyb3dzIGFuIGVycm9yLiBUaGUgcHJlc2VuY2Ugb2YgYVxuICAgICAgICAvLyB2YWx1ZSBpbiBgdGhyb3duRXJyb3JgIGlzIG5vdCBhIDEwMCUgcmVsaWFibGUgaW5kaWNhdG9yIGJlY2F1c2UgYVxuICAgICAgICAvLyBmdW5jdGlvbiBjb3VsZCB0aHJvdyBhIHZhbHVlIG9mIHVuZGVmaW5lZC5cblxuICAgICAgICBsZXQgY2FsbERpZFRocm93RXJyb3IgPSBmYWxzZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoZSBidWxrIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiBpcyB3cmFwcGVkIGluIGFuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgLy8gZXhlY3V0ZWQgYXJyb3cgZnVuY3Rpb24gc28gdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgbW9jayBmdW5jdGlvblxuICAgICAgICAgIC8vIGNhbiBiZSBlYXNpbHkgY2FwdHVyZWQgYW5kIHJlY29yZGVkLCBkZXNwaXRlIHRoZSBtYW55IHNlcGFyYXRlXG4gICAgICAgICAgLy8gcmV0dXJuIHBvaW50cyB3aXRoaW4gdGhlIGxvZ2ljLlxuICAgICAgICAgIGZpbmFsUmV0dXJuVmFsdWUgPSAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBmKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgcHJvYmFibHkgYmVpbmcgY2FsbGVkIGFzIGEgY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgcHJvdG90eXBlU2xvdHMuZm9yRWFjaChzbG90ID0+IHtcbiAgICAgICAgICAgICAgICAvLyBDb3B5IHByb3RvdHlwZSBtZXRob2RzIHRvIHRoZSBpbnN0YW5jZSB0byBtYWtlXG4gICAgICAgICAgICAgICAgLy8gaXQgZWFzaWVyIHRvIGludGVyYWN0IHdpdGggbW9jayBpbnN0YW5jZSBjYWxsIGFuZFxuICAgICAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZXNcbiAgICAgICAgICAgICAgICBpZiAocHJvdG90eXBlW3Nsb3RdLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igbm8gaW5kZXggc2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgICBjb25zdCBwcm90b0ltcGwgPSB0aGlzW3Nsb3RdOyAvLyBAdHMtZXhwZWN0LWVycm9yIG5vIGluZGV4IHNpZ25hdHVyZVxuXG4gICAgICAgICAgICAgICAgICB0aGlzW3Nsb3RdID0gbW9ja2VyLmdlbmVyYXRlRnJvbU1ldGFkYXRhKHByb3RvdHlwZVtzbG90XSk7IC8vIEB0cy1leHBlY3QtZXJyb3Igbm8gaW5kZXggc2lnbmF0dXJlXG5cbiAgICAgICAgICAgICAgICAgIHRoaXNbc2xvdF0uX3Byb3RvSW1wbCA9IHByb3RvSW1wbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pOyAvLyBSdW4gdGhlIG1vY2sgY29uc3RydWN0b3IgaW1wbGVtZW50YXRpb25cblxuICAgICAgICAgICAgICBjb25zdCBtb2NrSW1wbCA9IG1vY2tDb25maWcuc3BlY2lmaWNNb2NrSW1wbHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBtb2NrQ29uZmlnLnNwZWNpZmljTW9ja0ltcGxzLnNoaWZ0KClcbiAgICAgICAgICAgICAgICA6IG1vY2tDb25maWcubW9ja0ltcGw7XG4gICAgICAgICAgICAgIHJldHVybiBtb2NrSW1wbCAmJiBtb2NrSW1wbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSAvLyBJZiBtb2NrSW1wbGVtZW50YXRpb25PbmNlKCkvbW9ja0ltcGxlbWVudGF0aW9uKCkgaXMgbGFzdCBzZXQsXG4gICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbiB1c2UgdGhlIG1vY2tcblxuICAgICAgICAgICAgbGV0IHNwZWNpZmljTW9ja0ltcGwgPSBtb2NrQ29uZmlnLnNwZWNpZmljTW9ja0ltcGxzLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgIGlmIChzcGVjaWZpY01vY2tJbXBsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgc3BlY2lmaWNNb2NrSW1wbCA9IG1vY2tDb25maWcubW9ja0ltcGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzcGVjaWZpY01vY2tJbXBsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzcGVjaWZpY01vY2tJbXBsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9IC8vIE90aGVyd2lzZSB1c2UgcHJvdG90eXBlIGltcGxlbWVudGF0aW9uXG5cbiAgICAgICAgICAgIGlmIChmLl9wcm90b0ltcGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGYuX3Byb3RvSW1wbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgLy8gU3RvcmUgdGhlIHRocm93biBlcnJvciBzbyB3ZSBjYW4gcmVjb3JkIGl0LCB0aGVuIHJlLXRocm93IGl0LlxuICAgICAgICAgIHRocm93bkVycm9yID0gZXJyb3I7XG4gICAgICAgICAgY2FsbERpZFRocm93RXJyb3IgPSB0cnVlO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIC8vIFJlY29yZCB0aGUgcmVzdWx0IG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgICAgICAvLyBOT1RFOiBJbnRlbnRpb25hbGx5IE5PVCBwdXNoaW5nL2luZGV4aW5nIGludG8gdGhlIGFycmF5IG9mIG1vY2tcbiAgICAgICAgICAvLyAgICAgICByZXN1bHRzIGhlcmUgdG8gYXZvaWQgY29ycnVwdGluZyByZXN1bHRzIGRhdGEgaWYgbW9ja0NsZWFyKClcbiAgICAgICAgICAvLyAgICAgICBpcyBjYWxsZWQgZHVyaW5nIHRoZSBleGVjdXRpb24gb2YgdGhlIG1vY2suXG4gICAgICAgICAgbW9ja1Jlc3VsdC50eXBlID0gY2FsbERpZFRocm93RXJyb3IgPyAndGhyb3cnIDogJ3JldHVybic7XG4gICAgICAgICAgbW9ja1Jlc3VsdC52YWx1ZSA9IGNhbGxEaWRUaHJvd0Vycm9yID8gdGhyb3duRXJyb3IgOiBmaW5hbFJldHVyblZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpbmFsUmV0dXJuVmFsdWU7XG4gICAgICB9LCBtZXRhZGF0YS5sZW5ndGggfHwgMCk7XG5cbiAgICAgIGNvbnN0IGYgPSB0aGlzLl9jcmVhdGVNb2NrRnVuY3Rpb24obWV0YWRhdGEsIG1vY2tDb25zdHJ1Y3Rvcik7XG5cbiAgICAgIGYuX2lzTW9ja0Z1bmN0aW9uID0gdHJ1ZTtcblxuICAgICAgZi5nZXRNb2NrSW1wbGVtZW50YXRpb24gPSAoKSA9PiB0aGlzLl9lbnN1cmVNb2NrQ29uZmlnKGYpLm1vY2tJbXBsO1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3RvcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5fc3B5U3RhdGUuYWRkKHJlc3RvcmUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9tb2NrU3RhdGUuc2V0KGYsIHRoaXMuX2RlZmF1bHRNb2NrU3RhdGUoKSk7XG5cbiAgICAgIHRoaXMuX21vY2tDb25maWdSZWdpc3RyeS5zZXQoZiwgdGhpcy5fZGVmYXVsdE1vY2tDb25maWcoKSk7XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCAnbW9jaycsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiB0aGlzLl9lbnN1cmVNb2NrU3RhdGUoZiksXG4gICAgICAgIHNldDogdmFsID0+IHRoaXMuX21vY2tTdGF0ZS5zZXQoZiwgdmFsKVxuICAgICAgfSk7XG5cbiAgICAgIGYubW9ja0NsZWFyID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl9tb2NrU3RhdGUuZGVsZXRlKGYpO1xuXG4gICAgICAgIHJldHVybiBmO1xuICAgICAgfTtcblxuICAgICAgZi5tb2NrUmVzZXQgPSAoKSA9PiB7XG4gICAgICAgIGYubW9ja0NsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fbW9ja0NvbmZpZ1JlZ2lzdHJ5LmRlbGV0ZShmKTtcblxuICAgICAgICByZXR1cm4gZjtcbiAgICAgIH07XG5cbiAgICAgIGYubW9ja1Jlc3RvcmUgPSAoKSA9PiB7XG4gICAgICAgIGYubW9ja1Jlc2V0KCk7XG4gICAgICAgIHJldHVybiByZXN0b3JlID8gcmVzdG9yZSgpIDogdW5kZWZpbmVkO1xuICAgICAgfTtcblxuICAgICAgZi5tb2NrUmV0dXJuVmFsdWVPbmNlID0gKFxuICAgICAgICB2YWx1ZSAvLyBuZXh0IGZ1bmN0aW9uIGNhbGwgd2lsbCByZXR1cm4gdGhpcyB2YWx1ZSBvciBkZWZhdWx0IHJldHVybiB2YWx1ZVxuICAgICAgKSA9PiBmLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoKCkgPT4gdmFsdWUpO1xuXG4gICAgICBmLm1vY2tSZXNvbHZlZFZhbHVlT25jZSA9IHZhbHVlID0+XG4gICAgICAgIGYubW9ja0ltcGxlbWVudGF0aW9uT25jZSgoKSA9PiBQcm9taXNlLnJlc29sdmUodmFsdWUpKTtcblxuICAgICAgZi5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UgPSB2YWx1ZSA9PlxuICAgICAgICBmLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoKCkgPT4gUHJvbWlzZS5yZWplY3QodmFsdWUpKTtcblxuICAgICAgZi5tb2NrUmV0dXJuVmFsdWUgPSAoXG4gICAgICAgIHZhbHVlIC8vIG5leHQgZnVuY3Rpb24gY2FsbCB3aWxsIHJldHVybiBzcGVjaWZpZWQgcmV0dXJuIHZhbHVlIG9yIHRoaXMgb25lXG4gICAgICApID0+IGYubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHZhbHVlKTtcblxuICAgICAgZi5tb2NrUmVzb2x2ZWRWYWx1ZSA9IHZhbHVlID0+XG4gICAgICAgIGYubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkpO1xuXG4gICAgICBmLm1vY2tSZWplY3RlZFZhbHVlID0gdmFsdWUgPT5cbiAgICAgICAgZi5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gUHJvbWlzZS5yZWplY3QodmFsdWUpKTtcblxuICAgICAgZi5tb2NrSW1wbGVtZW50YXRpb25PbmNlID0gZm4gPT4ge1xuICAgICAgICAvLyBuZXh0IGZ1bmN0aW9uIGNhbGwgd2lsbCB1c2UgdGhpcyBtb2NrIGltcGxlbWVudGF0aW9uIHJldHVybiB2YWx1ZVxuICAgICAgICAvLyBvciBkZWZhdWx0IG1vY2sgaW1wbGVtZW50YXRpb24gcmV0dXJuIHZhbHVlXG4gICAgICAgIGNvbnN0IG1vY2tDb25maWcgPSB0aGlzLl9lbnN1cmVNb2NrQ29uZmlnKGYpO1xuXG4gICAgICAgIG1vY2tDb25maWcuc3BlY2lmaWNNb2NrSW1wbHMucHVzaChmbik7XG4gICAgICAgIHJldHVybiBmO1xuICAgICAgfTtcblxuICAgICAgZi5tb2NrSW1wbGVtZW50YXRpb24gPSBmbiA9PiB7XG4gICAgICAgIC8vIG5leHQgZnVuY3Rpb24gY2FsbCB3aWxsIHVzZSBtb2NrIGltcGxlbWVudGF0aW9uIHJldHVybiB2YWx1ZVxuICAgICAgICBjb25zdCBtb2NrQ29uZmlnID0gdGhpcy5fZW5zdXJlTW9ja0NvbmZpZyhmKTtcblxuICAgICAgICBtb2NrQ29uZmlnLm1vY2tJbXBsID0gZm47XG4gICAgICAgIHJldHVybiBmO1xuICAgICAgfTtcblxuICAgICAgZi5tb2NrUmV0dXJuVGhpcyA9ICgpID0+XG4gICAgICAgIGYubW9ja0ltcGxlbWVudGF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSk7XG5cbiAgICAgIGYubW9ja05hbWUgPSBuYW1lID0+IHtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICBjb25zdCBtb2NrQ29uZmlnID0gdGhpcy5fZW5zdXJlTW9ja0NvbmZpZyhmKTtcblxuICAgICAgICAgIG1vY2tDb25maWcubW9ja05hbWUgPSBuYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGY7XG4gICAgICB9O1xuXG4gICAgICBmLmdldE1vY2tOYW1lID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrQ29uZmlnID0gdGhpcy5fZW5zdXJlTW9ja0NvbmZpZyhmKTtcblxuICAgICAgICByZXR1cm4gbW9ja0NvbmZpZy5tb2NrTmFtZSB8fCAnamVzdC5mbigpJztcbiAgICAgIH07XG5cbiAgICAgIGlmIChtZXRhZGF0YS5tb2NrSW1wbCkge1xuICAgICAgICBmLm1vY2tJbXBsZW1lbnRhdGlvbihtZXRhZGF0YS5tb2NrSW1wbCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1bmtub3duVHlwZSA9IG1ldGFkYXRhLnR5cGUgfHwgJ3VuZGVmaW5lZCB0eXBlJztcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5yZWNvZ25pemVkIHR5cGUgJyArIHVua25vd25UeXBlKTtcbiAgICB9XG4gIH1cblxuICBfY3JlYXRlTW9ja0Z1bmN0aW9uKG1ldGFkYXRhLCBtb2NrQ29uc3RydWN0b3IpIHtcbiAgICBsZXQgbmFtZSA9IG1ldGFkYXRhLm5hbWU7XG5cbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJldHVybiBtb2NrQ29uc3RydWN0b3I7XG4gICAgfSAvLyBQcmVzZXJ2ZSBgbmFtZWAgcHJvcGVydHkgb2YgbW9ja2VkIGZ1bmN0aW9uLlxuXG4gICAgY29uc3QgYm91bmRGdW5jdGlvblByZWZpeCA9ICdib3VuZCAnO1xuICAgIGxldCBiaW5kQ2FsbCA9ICcnOyAvLyBpZi1kby13aGlsZSBmb3IgcGVyZiByZWFzb25zLiBUaGUgY29tbW9uIGNhc2UgaXMgZm9yIHRoZSBpZiB0byBmYWlsLlxuXG4gICAgaWYgKG5hbWUgJiYgbmFtZS5zdGFydHNXaXRoKGJvdW5kRnVuY3Rpb25QcmVmaXgpKSB7XG4gICAgICBkbyB7XG4gICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZyhib3VuZEZ1bmN0aW9uUHJlZml4Lmxlbmd0aCk7IC8vIENhbGwgYmluZCgpIGp1c3QgdG8gYWx0ZXIgdGhlIGZ1bmN0aW9uIG5hbWUuXG5cbiAgICAgICAgYmluZENhbGwgPSAnLmJpbmQobnVsbCknO1xuICAgICAgfSB3aGlsZSAobmFtZSAmJiBuYW1lLnN0YXJ0c1dpdGgoYm91bmRGdW5jdGlvblByZWZpeCkpO1xuICAgIH0gLy8gU3BlY2lhbCBjYXNlIGZ1bmN0aW9ucyBuYW1lZCBgbW9ja0NvbnN0cnVjdG9yYCB0byBndWFyZCBmb3IgaW5maW5pdGVcbiAgICAvLyBsb29wcy5cblxuICAgIGlmIChuYW1lID09PSBNT0NLX0NPTlNUUlVDVE9SX05BTUUpIHtcbiAgICAgIHJldHVybiBtb2NrQ29uc3RydWN0b3I7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgLy8gSXQncyBhIHN5bnRheCBlcnJvciB0byBkZWZpbmUgZnVuY3Rpb25zIHdpdGggYSByZXNlcnZlZCBrZXl3b3JkXG4gICAgICAvLyBhcyBuYW1lLlxuICAgICAgUkVTRVJWRURfS0VZV09SRFMuaGFzKG5hbWUpIHx8IC8vIEl0J3MgYWxzbyBhIHN5bnRheCBlcnJvciB0byBkZWZpbmUgZnVuY3Rpb25zIHdpdGggYSBuYW1lIHRoYXQgc3RhcnRzIHdpdGggYSBudW1iZXJcbiAgICAgIC9eXFxkLy50ZXN0KG5hbWUpXG4gICAgKSB7XG4gICAgICBuYW1lID0gJyQnICsgbmFtZTtcbiAgICB9IC8vIEl0J3MgYWxzbyBhIHN5bnRheCBlcnJvciB0byBkZWZpbmUgYSBmdW5jdGlvbiB3aXRoIGEgcmVzZXJ2ZWQgY2hhcmFjdGVyXG4gICAgLy8gYXMgcGFydCBvZiBpdCdzIG5hbWUuXG5cbiAgICBpZiAoRlVOQ1RJT05fTkFNRV9SRVNFUlZFRF9QQVRURVJOLnRlc3QobmFtZSkpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoRlVOQ1RJT05fTkFNRV9SRVNFUlZFRF9SRVBMQUNFLCAnJCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGJvZHkgPVxuICAgICAgJ3JldHVybiBmdW5jdGlvbiAnICtcbiAgICAgIG5hbWUgK1xuICAgICAgJygpIHsnICtcbiAgICAgICdyZXR1cm4gJyArXG4gICAgICBNT0NLX0NPTlNUUlVDVE9SX05BTUUgK1xuICAgICAgJy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7JyArXG4gICAgICAnfScgK1xuICAgICAgYmluZENhbGw7XG4gICAgY29uc3QgY3JlYXRlQ29uc3RydWN0b3IgPSBuZXcgdGhpcy5fZW52aXJvbm1lbnRHbG9iYWwuRnVuY3Rpb24oXG4gICAgICBNT0NLX0NPTlNUUlVDVE9SX05BTUUsXG4gICAgICBib2R5XG4gICAgKTtcbiAgICByZXR1cm4gY3JlYXRlQ29uc3RydWN0b3IobW9ja0NvbnN0cnVjdG9yKTtcbiAgfVxuXG4gIF9nZW5lcmF0ZU1vY2sobWV0YWRhdGEsIGNhbGxiYWNrcywgcmVmcykge1xuICAgIC8vIG1ldGFkYXRhIG5vdCBjb21wYXRpYmxlIGJ1dCBpdCdzIHRoZSBzYW1lIHR5cGUsIG1heWJlIHByb2JsZW0gd2l0aFxuICAgIC8vIG92ZXJsb2FkaW5nIG9mIF9tYWtlQ29tcG9uZW50IGFuZCBub3QgX2dlbmVyYXRlTW9jaz9cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgY29uc3QgbW9jayA9IHRoaXMuX21ha2VDb21wb25lbnQobWV0YWRhdGEpO1xuXG4gICAgaWYgKG1ldGFkYXRhLnJlZklEICE9IG51bGwpIHtcbiAgICAgIHJlZnNbbWV0YWRhdGEucmVmSURdID0gbW9jaztcbiAgICB9XG5cbiAgICB0aGlzLl9nZXRTbG90cyhtZXRhZGF0YS5tZW1iZXJzKS5mb3JFYWNoKHNsb3QgPT4ge1xuICAgICAgY29uc3Qgc2xvdE1ldGFkYXRhID0gKG1ldGFkYXRhLm1lbWJlcnMgJiYgbWV0YWRhdGEubWVtYmVyc1tzbG90XSkgfHwge307XG5cbiAgICAgIGlmIChzbG90TWV0YWRhdGEucmVmICE9IG51bGwpIHtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goXG4gICAgICAgICAgKGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiAobW9ja1tzbG90XSA9IHJlZnNbcmVmXSk7XG4gICAgICAgICAgfSkoc2xvdE1ldGFkYXRhLnJlZilcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vY2tbc2xvdF0gPSB0aGlzLl9nZW5lcmF0ZU1vY2soc2xvdE1ldGFkYXRhLCBjYWxsYmFja3MsIHJlZnMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKFxuICAgICAgbWV0YWRhdGEudHlwZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIG1ldGFkYXRhLnR5cGUgIT09ICdudWxsJyAmJlxuICAgICAgbW9jay5wcm90b3R5cGUgJiZcbiAgICAgIHR5cGVvZiBtb2NrLnByb3RvdHlwZSA9PT0gJ29iamVjdCdcbiAgICApIHtcbiAgICAgIG1vY2sucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbW9jaztcbiAgICB9XG5cbiAgICByZXR1cm4gbW9jaztcbiAgfVxuICAvKipcbiAgICogQHNlZSBSRUFETUUubWRcbiAgICogQHBhcmFtIF9tZXRhZGF0YSBNZXRhZGF0YSBmb3IgdGhlIG1vY2sgaW4gdGhlIHNjaGVtYSByZXR1cm5lZCBieSB0aGVcbiAgICogZ2V0TWV0YWRhdGEgbWV0aG9kIG9mIHRoaXMgbW9kdWxlLlxuICAgKi9cblxuICBnZW5lcmF0ZUZyb21NZXRhZGF0YShfbWV0YWRhdGEpIHtcbiAgICBjb25zdCBjYWxsYmFja3MgPSBbXTtcbiAgICBjb25zdCByZWZzID0ge307XG5cbiAgICBjb25zdCBtb2NrID0gdGhpcy5fZ2VuZXJhdGVNb2NrKF9tZXRhZGF0YSwgY2FsbGJhY2tzLCByZWZzKTtcblxuICAgIGNhbGxiYWNrcy5mb3JFYWNoKHNldHRlciA9PiBzZXR0ZXIoKSk7XG4gICAgcmV0dXJuIG1vY2s7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUgUkVBRE1FLm1kXG4gICAqIEBwYXJhbSBjb21wb25lbnQgVGhlIGNvbXBvbmVudCBmb3Igd2hpY2ggdG8gcmV0cmlldmUgbWV0YWRhdGEuXG4gICAqL1xuXG4gIGdldE1ldGFkYXRhKGNvbXBvbmVudCwgX3JlZnMpIHtcbiAgICBjb25zdCByZWZzID0gX3JlZnMgfHwgbmV3IE1hcCgpO1xuICAgIGNvbnN0IHJlZiA9IHJlZnMuZ2V0KGNvbXBvbmVudCk7XG5cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlZlxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCB0eXBlID0gZ2V0VHlwZShjb21wb25lbnQpO1xuXG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgIHR5cGVcbiAgICB9O1xuXG4gICAgaWYgKFxuICAgICAgdHlwZSA9PT0gJ2NvbnN0YW50JyB8fFxuICAgICAgdHlwZSA9PT0gJ2NvbGxlY3Rpb24nIHx8XG4gICAgICB0eXBlID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgdHlwZSA9PT0gJ251bGwnXG4gICAgKSB7XG4gICAgICBtZXRhZGF0YS52YWx1ZSA9IGNvbXBvbmVudDtcbiAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdGhpcyBpcyBhIGZ1bmN0aW9uIHNvIGl0IGhhcyBhIG5hbWVcbiAgICAgIG1ldGFkYXRhLm5hbWUgPSBjb21wb25lbnQubmFtZTsgLy8gQHRzLWV4cGVjdC1lcnJvciBtYXkgYmUgYSBtb2NrXG5cbiAgICAgIGlmIChjb21wb25lbnQuX2lzTW9ja0Z1bmN0aW9uID09PSB0cnVlKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgbWF5IGJlIGEgbW9ja1xuICAgICAgICBtZXRhZGF0YS5tb2NrSW1wbCA9IGNvbXBvbmVudC5nZXRNb2NrSW1wbGVtZW50YXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZXRhZGF0YS5yZWZJRCA9IHJlZnMuc2l6ZTtcbiAgICByZWZzLnNldChjb21wb25lbnQsIG1ldGFkYXRhLnJlZklEKTtcbiAgICBsZXQgbWVtYmVycyA9IG51bGw7IC8vIExlYXZlIGFycmF5cyBhbG9uZVxuXG4gICAgaWYgKHR5cGUgIT09ICdhcnJheScpIHtcbiAgICAgIHRoaXMuX2dldFNsb3RzKGNvbXBvbmVudCkuZm9yRWFjaChzbG90ID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgLy8gQHRzLWV4cGVjdC1lcnJvciBtYXkgYmUgYSBtb2NrXG4gICAgICAgICAgY29tcG9uZW50Ll9pc01vY2tGdW5jdGlvbiA9PT0gdHJ1ZSAmJlxuICAgICAgICAgIHNsb3QubWF0Y2goL15tb2NrLylcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIEB0cy1leHBlY3QtZXJyb3Igbm8gaW5kZXggc2lnbmF0dXJlXG5cbiAgICAgICAgY29uc3Qgc2xvdE1ldGFkYXRhID0gdGhpcy5nZXRNZXRhZGF0YShjb21wb25lbnRbc2xvdF0sIHJlZnMpO1xuXG4gICAgICAgIGlmIChzbG90TWV0YWRhdGEpIHtcbiAgICAgICAgICBpZiAoIW1lbWJlcnMpIHtcbiAgICAgICAgICAgIG1lbWJlcnMgPSB7fTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtZW1iZXJzW3Nsb3RdID0gc2xvdE1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobWVtYmVycykge1xuICAgICAgbWV0YWRhdGEubWVtYmVycyA9IG1lbWJlcnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1ldGFkYXRhO1xuICB9XG5cbiAgaXNNb2NrRnVuY3Rpb24oZm4pIHtcbiAgICByZXR1cm4gISFmbiAmJiBmbi5faXNNb2NrRnVuY3Rpb24gPT09IHRydWU7XG4gIH1cblxuICBmbihpbXBsZW1lbnRhdGlvbikge1xuICAgIGNvbnN0IGxlbmd0aCA9IGltcGxlbWVudGF0aW9uID8gaW1wbGVtZW50YXRpb24ubGVuZ3RoIDogMDtcblxuICAgIGNvbnN0IGZuID0gdGhpcy5fbWFrZUNvbXBvbmVudCh7XG4gICAgICBsZW5ndGgsXG4gICAgICB0eXBlOiAnZnVuY3Rpb24nXG4gICAgfSk7XG5cbiAgICBpZiAoaW1wbGVtZW50YXRpb24pIHtcbiAgICAgIGZuLm1vY2tJbXBsZW1lbnRhdGlvbihpbXBsZW1lbnRhdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgc3B5T24ob2JqZWN0LCBtZXRob2ROYW1lLCBhY2Nlc3NUeXBlKSB7XG4gICAgaWYgKGFjY2Vzc1R5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zcHlPblByb3BlcnR5KG9iamVjdCwgbWV0aG9kTmFtZSwgYWNjZXNzVHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0Nhbm5vdCBzcHlPbiBvbiBhIHByaW1pdGl2ZSB2YWx1ZTsgJyArIHRoaXMuX3R5cGVPZihvYmplY3QpICsgJyBnaXZlbidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3JpZ2luYWwgPSBvYmplY3RbbWV0aG9kTmFtZV07XG5cbiAgICBpZiAoIXRoaXMuaXNNb2NrRnVuY3Rpb24ob3JpZ2luYWwpKSB7XG4gICAgICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnQ2Fubm90IHNweSB0aGUgJyArXG4gICAgICAgICAgICBtZXRob2ROYW1lICtcbiAgICAgICAgICAgICcgcHJvcGVydHkgYmVjYXVzZSBpdCBpcyBub3QgYSBmdW5jdGlvbjsgJyArXG4gICAgICAgICAgICB0aGlzLl90eXBlT2Yob3JpZ2luYWwpICtcbiAgICAgICAgICAgICcgZ2l2ZW4gaW5zdGVhZCdcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNNZXRob2RPd25lciA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICAgICAgb2JqZWN0LFxuICAgICAgICBtZXRob2ROYW1lXG4gICAgICApO1xuICAgICAgbGV0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgbWV0aG9kTmFtZSk7XG4gICAgICBsZXQgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcblxuICAgICAgd2hpbGUgKCFkZXNjcmlwdG9yICYmIHByb3RvICE9PSBudWxsKSB7XG4gICAgICAgIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvLCBtZXRob2ROYW1lKTtcbiAgICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICAgICAgfVxuXG4gICAgICBsZXQgbW9jaztcblxuICAgICAgaWYgKGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5nZXQpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxHZXQgPSBkZXNjcmlwdG9yLmdldDtcbiAgICAgICAgbW9jayA9IHRoaXMuX21ha2VDb21wb25lbnQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBvcmlnaW5hbEdldDtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIG1ldGhvZE5hbWUsIGRlc2NyaXB0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBkZXNjcmlwdG9yLmdldCA9ICgpID0+IG1vY2s7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgbWV0aG9kTmFtZSwgZGVzY3JpcHRvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb2NrID0gdGhpcy5fbWFrZUNvbXBvbmVudChcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nXG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNNZXRob2RPd25lcikge1xuICAgICAgICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBvcmlnaW5hbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3RbbWV0aG9kTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApOyAvLyBAdHMtZXhwZWN0LWVycm9yIG92ZXJyaWRpbmcgb3JpZ2luYWwgbWV0aG9kIHdpdGggYSBNb2NrXG5cbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gbW9jaztcbiAgICAgIH1cblxuICAgICAgbW9jay5tb2NrSW1wbGVtZW50YXRpb24oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3RbbWV0aG9kTmFtZV07XG4gIH1cblxuICBfc3B5T25Qcm9wZXJ0eShvYmosIHByb3BlcnR5TmFtZSwgYWNjZXNzVHlwZSA9ICdnZXQnKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmogIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0Nhbm5vdCBzcHlPbiBvbiBhIHByaW1pdGl2ZSB2YWx1ZTsgJyArIHRoaXMuX3R5cGVPZihvYmopICsgJyBnaXZlbidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFvYmopIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3NweU9uIGNvdWxkIG5vdCBmaW5kIGFuIG9iamVjdCB0byBzcHkgdXBvbiBmb3IgJyArIHByb3BlcnR5TmFtZSArICcnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghcHJvcGVydHlOYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHByb3BlcnR5IG5hbWUgc3VwcGxpZWQnKTtcbiAgICB9XG5cbiAgICBsZXQgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wZXJ0eU5hbWUpO1xuICAgIGxldCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuXG4gICAgd2hpbGUgKCFkZXNjcmlwdG9yICYmIHByb3RvICE9PSBudWxsKSB7XG4gICAgICBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgcHJvcGVydHlOYW1lKTtcbiAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9wZXJ0eU5hbWUgKyAnIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgfVxuXG4gICAgaWYgKCFkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb3BlcnR5TmFtZSArICcgaXMgbm90IGRlY2xhcmVkIGNvbmZpZ3VyYWJsZScpO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvclthY2Nlc3NUeXBlXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnUHJvcGVydHkgJyArIHByb3BlcnR5TmFtZSArICcgZG9lcyBub3QgaGF2ZSBhY2Nlc3MgdHlwZSAnICsgYWNjZXNzVHlwZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcmlnaW5hbCA9IGRlc2NyaXB0b3JbYWNjZXNzVHlwZV07XG5cbiAgICBpZiAoIXRoaXMuaXNNb2NrRnVuY3Rpb24ob3JpZ2luYWwpKSB7XG4gICAgICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnQ2Fubm90IHNweSB0aGUgJyArXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWUgK1xuICAgICAgICAgICAgJyBwcm9wZXJ0eSBiZWNhdXNlIGl0IGlzIG5vdCBhIGZ1bmN0aW9uOyAnICtcbiAgICAgICAgICAgIHRoaXMuX3R5cGVPZihvcmlnaW5hbCkgK1xuICAgICAgICAgICAgJyBnaXZlbiBpbnN0ZWFkJ1xuICAgICAgICApO1xuICAgICAgfSAvLyBAdHMtZXhwZWN0LWVycm9yOiBtb2NrIGlzIGFzc2lnbmFibGVcblxuICAgICAgZGVzY3JpcHRvclthY2Nlc3NUeXBlXSA9IHRoaXMuX21ha2VDb21wb25lbnQoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nXG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBtb2NrIGlzIGFzc2lnbmFibGVcbiAgICAgICAgICBkZXNjcmlwdG9yW2FjY2Vzc1R5cGVdID0gb3JpZ2luYWw7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHlOYW1lLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGRlc2NyaXB0b3JbYWNjZXNzVHlwZV0ubW9ja0ltcGxlbWVudGF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3BlcnR5TmFtZSwgZGVzY3JpcHRvcik7XG4gICAgcmV0dXJuIGRlc2NyaXB0b3JbYWNjZXNzVHlwZV07XG4gIH1cblxuICBjbGVhckFsbE1vY2tzKCkge1xuICAgIHRoaXMuX21vY2tTdGF0ZSA9IG5ldyBXZWFrTWFwKCk7XG4gIH1cblxuICByZXNldEFsbE1vY2tzKCkge1xuICAgIHRoaXMuX21vY2tDb25maWdSZWdpc3RyeSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgdGhpcy5fbW9ja1N0YXRlID0gbmV3IFdlYWtNYXAoKTtcbiAgfVxuXG4gIHJlc3RvcmVBbGxNb2NrcygpIHtcbiAgICB0aGlzLl9zcHlTdGF0ZS5mb3JFYWNoKHJlc3RvcmUgPT4gcmVzdG9yZSgpKTtcblxuICAgIHRoaXMuX3NweVN0YXRlID0gbmV3IFNldCgpO1xuICB9XG5cbiAgX3R5cGVPZih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgKyB2YWx1ZSA6IHR5cGVvZiB2YWx1ZTtcbiAgfSAvLyB0aGUgdHlwaW5ncyB0ZXN0IGhlbHBlclxuXG4gIG1vY2tlZChpdGVtLCBfZGVlcCA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cbn1cblxuZXhwb3J0cy5Nb2R1bGVNb2NrZXIgPSBNb2R1bGVNb2NrZXI7XG5jb25zdCBKZXN0TW9jayA9IG5ldyBNb2R1bGVNb2NrZXIoZ2xvYmFsKTtcbmNvbnN0IGZuID0gSmVzdE1vY2suZm4uYmluZChKZXN0TW9jayk7XG5leHBvcnRzLmZuID0gZm47XG5jb25zdCBzcHlPbiA9IEplc3RNb2NrLnNweU9uLmJpbmQoSmVzdE1vY2spO1xuZXhwb3J0cy5zcHlPbiA9IHNweU9uO1xuY29uc3QgbW9ja2VkID0gSmVzdE1vY2subW9ja2VkLmJpbmQoSmVzdE1vY2spO1xuZXhwb3J0cy5tb2NrZWQgPSBtb2NrZWQ7XG4iLCJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanNcIjtcbmltcG9ydCBcImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzXCI7XG5pbXBvcnQgXCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanNcIjtcbmltcG9ydCB7IGFkZG9ucyB9IGZyb20gJ0BzdG9yeWJvb2svYWRkb25zJztcbmltcG9ydCB7IEZPUkNFX1JFTU9VTlQsIFNUT1JZX1JFTkRFUl9QSEFTRV9DSEFOR0VEIH0gZnJvbSAnQHN0b3J5Ym9vay9jb3JlLWV2ZW50cyc7XG5pbXBvcnQgeyBpbnN0cnVtZW50IH0gZnJvbSAnQHN0b3J5Ym9vay9pbnN0cnVtZW50ZXInO1xuaW1wb3J0IHsgTW9kdWxlTW9ja2VyIH0gZnJvbSAnamVzdC1tb2NrJztcbnZhciBKZXN0TW9jayA9IG5ldyBNb2R1bGVNb2NrZXIoZ2xvYmFsKTtcbnZhciBmbiA9IEplc3RNb2NrLmZuLmJpbmQoSmVzdE1vY2spOyAvLyBBbGlhc2luZyBgZm5gIHRvIGBhY3Rpb25gIGhlcmUsIHNvIHdlIGdldCBhIG1vcmUgZGVzY3JpcHRpdmUgbGFiZWwgaW4gdGhlIFVJLlxuXG52YXIgX2luc3RydW1lbnQgPSBpbnN0cnVtZW50KHtcbiAgYWN0aW9uOiBmblxufSwge1xuICByZXRhaW46IHRydWVcbn0pLFxuICAgIGFjdGlvbiA9IF9pbnN0cnVtZW50LmFjdGlvbjtcblxudmFyIGNoYW5uZWwgPSBhZGRvbnMuZ2V0Q2hhbm5lbCgpO1xudmFyIHNwaWVzID0gW107XG5jaGFubmVsLm9uKEZPUkNFX1JFTU9VTlQsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHNwaWVzLmZvckVhY2goZnVuY3Rpb24gKG1vY2spIHtcbiAgICB2YXIgX21vY2skbW9ja0NsZWFyO1xuXG4gICAgcmV0dXJuIG1vY2sgPT09IG51bGwgfHwgbW9jayA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9tb2NrJG1vY2tDbGVhciA9IG1vY2subW9ja0NsZWFyKSA9PT0gbnVsbCB8fCBfbW9jayRtb2NrQ2xlYXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tb2NrJG1vY2tDbGVhci5jYWxsKG1vY2spO1xuICB9KTtcbn0pO1xuY2hhbm5lbC5vbihTVE9SWV9SRU5ERVJfUEhBU0VfQ0hBTkdFRCwgZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIG5ld1BoYXNlID0gX3JlZi5uZXdQaGFzZTtcbiAgaWYgKG5ld1BoYXNlID09PSAnbG9hZGluZycpIHNwaWVzLmZvckVhY2goZnVuY3Rpb24gKG1vY2spIHtcbiAgICB2YXIgX21vY2skbW9ja0NsZWFyMjtcblxuICAgIHJldHVybiBtb2NrID09PSBudWxsIHx8IG1vY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfbW9jayRtb2NrQ2xlYXIyID0gbW9jay5tb2NrQ2xlYXIpID09PSBudWxsIHx8IF9tb2NrJG1vY2tDbGVhcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tb2NrJG1vY2tDbGVhcjIuY2FsbChtb2NrKTtcbiAgfSk7XG59KTtcblxudmFyIGFkZEFjdGlvbnNGcm9tQXJnVHlwZXMgPSBmdW5jdGlvbiBhZGRBY3Rpb25zRnJvbUFyZ1R5cGVzKF9yZWYyKSB7XG4gIHZhciBpZCA9IF9yZWYyLmlkLFxuICAgICAgaW5pdGlhbEFyZ3MgPSBfcmVmMi5pbml0aWFsQXJncztcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGluaXRpYWxBcmdzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgX3JlZjMpIHtcbiAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMiksXG4gICAgICAgIGtleSA9IF9yZWY0WzBdLFxuICAgICAgICB2YWwgPSBfcmVmNFsxXTtcblxuICAgIGlmICh0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nICYmIHZhbC5uYW1lID09PSAnYWN0aW9uSGFuZGxlcicpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YWwsICduYW1lJywge1xuICAgICAgICB2YWx1ZToga2V5LFxuICAgICAgICB3cml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbCwgJ19fc3RvcnlJZF9fJywge1xuICAgICAgICB2YWx1ZTogaWQsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBhY2Nba2V5XSA9IGFjdGlvbih2YWwpO1xuICAgICAgc3BpZXMucHVzaChhY2Nba2V5XSk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH1cblxuICAgIGFjY1trZXldID0gdmFsO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn07XG5cbmV4cG9ydCB2YXIgYXJnc0VuaGFuY2VycyA9IFthZGRBY3Rpb25zRnJvbUFyZ1R5cGVzXTsiXSwibmFtZXMiOlsiQ2FsbFN0YXRlcyIsIl9nbG9iYWwkRkVBVFVSRVMiLCJfdHlwZW9mIiwib2JqIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwic291cmNlIiwiZXhjbHVkZWQiLCJ0YXJnZXQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImtleSIsImkiLCJzb3VyY2VTeW1ib2xLZXlzIiwic291cmNlS2V5cyIsIl90b1Byb3BlcnR5S2V5IiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInJlcyIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJpdGVyIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJfZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9zbGljZWRUb0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX25vbkl0ZXJhYmxlUmVzdCIsIm8iLCJtaW5MZW4iLCJuIiwibGVuIiwiYXJyMiIsIl9pIiwiX2FyciIsIl9uIiwiX2QiLCJfcyIsIl9lIiwiZXJyIiwiRVZFTlRTIiwiZGVidWdnZXJEaXNhYmxlZCIsImdsb2JhbCIsImNvbnRyb2xzRGlzYWJsZWQiLCJhbHJlYWR5Q29tcGxldGVkRXhjZXB0aW9uIiwiaXNPYmplY3QiLCJpc01vZHVsZSIsImlzSW5zdHJ1bWVudGFibGUiLCJwcm90byIsImNvbnN0cnVjdCIsImdldEluaXRpYWxTdGF0ZSIsImdldFJldGFpbmVkU3RhdGUiLCJzdGF0ZSIsImlzRGVidWdnaW5nIiwiY2FsbHMiLCJjYWxsIiwiY2FsbFJlZnNCeVJlc3VsdCIsIl9yZWYiLCJfcmVmMiIsInJlZiIsIkluc3RydW1lbnRlciIsIl90aGlzIiwiYWRkb25zIiwicmVzZXRTdGF0ZSIsIl9yZWYzIiwic3RvcnlJZCIsIl9yZWYzJGlzUGxheWluZyIsImlzUGxheWluZyIsIl9yZWYzJGlzRGVidWdnaW5nIiwiRk9SQ0VfUkVNT1VOVCIsIlNUT1JZX1JFTkRFUl9QSEFTRV9DSEFOR0VEIiwiX3JlZjQiLCJuZXdQaGFzZSIsIl90aGlzJGdldFN0YXRlIiwiZm9yd2FyZGVkRXhjZXB0aW9uIiwiU0VUX0NVUlJFTlRfU1RPUlkiLCJzdGFydCIsIl9yZWY1IiwicGxheVVudGlsIiwiX3JlZjYiLCJsb2ciLCJfcmVmNyIsIl9zaGFkb3dDYWxscyRzbGljZSRmaSIsInNoYWRvd0NhbGxzIiwiZmlyc3RSb3dJbmRleCIsImJhY2siLCJfcmVmOCIsIl9sb2ciLCJfdGhpcyRnZXRTdGF0ZTIiLCJuZXh0IiwiX3JlZjkiLCJzdGF0dXMiLCJnb3RvIiwiX3JlZjEwIiwiY2FsbElkIiwiX3RoaXMkZ2V0U3RhdGUzIiwicmVzb2x2ZXJzIiwiX3JlZjExIiwiaWQiLCJzaGFkb3dDYWxsIiwiX3JlZjEyIiwiX3RoaXMkZ2V0TG9nJGZpbmQiLCJuZXh0SWQiLCJjIiwicmVzb2x2ZSIsIl9yZWYxMyIsIl90aGlzJGdldFN0YXRlNCIsIl90aGlzJGdldExvZyRmaW5kMiIsImVuZCIsIl9yZWYxNCIsInVwZGF0ZSIsInBhdGNoIiwiYWNjIiwiX3JlZjE1IiwiX3JlZjE2IiwicmV0YWluZWRTdGF0ZSIsIl90aGlzJGdldFN0YXRlNSIsIm1lcmdlZCIsImluZGV4Iiwic2VlbiIsIm5vZGUiLCJvcHRpb25zIiwiX3RoaXMyIiwiX29wdGlvbnMkbXV0YXRlIiwibXV0YXRlIiwiX29wdGlvbnMkcGF0aCIsInBhdGgiLCJfbGVuIiwiYXJncyIsIl9rZXkiLCJtZXRob2QiLCJmbiIsIl9hcmdzJCIsIl9nbG9iYWwkd2luZG93JF9fU1RPUiIsIl9nbG9iYWwkd2luZG93JF9fU1RPUjIiLCJfZ2xvYmFsJHdpbmRvdyRfX1NUT1IzIiwiX3RoaXMkZ2V0U3RhdGU2IiwiY3Vyc29yIiwicGFyZW50SWQiLCJfb3B0aW9ucyRwYXRoMiIsIl9vcHRpb25zJGludGVyY2VwdCIsImludGVyY2VwdCIsIl9vcHRpb25zJHJldGFpbiIsInJldGFpbiIsImludGVyY2VwdGFibGUiLCJyZXN1bHQiLCJfdGhpczMiLCJfdGhpcyRnZXRTdGF0ZTciLCJjaGFpbmVkQ2FsbElkcyIsImlzQ2hhaW5lZFVwb24iLCJfcmVmMTciLCJfc3RhdGUkcmVzb2x2ZXJzIiwiX2NhbGwkaWQiLCJfdGhpczQiLCJfdGhpcyRnZXRTdGF0ZTgiLCJyZW5kZXJQaGFzZSIsImluZm8iLCJwcmVmaXgiLCJsb2NhbE5hbWUiLCJjbGFzc0xpc3QiLCJpbm5lclRleHQiLCJjbGFzc05hbWVzIiwiX3JlZjE4IiwiaGFuZGxlRXhjZXB0aW9uIiwiZSIsIm5hbWUiLCJtZXNzYWdlIiwic3RhY2siLCJleGNlcHRpb24iLCJJR05PUkVEX0VYQ0VQVElPTiIsImZpbmFsQXJncyIsIl90aGlzNCRnZXRTdGF0ZSIsInJlc3RvcmUiLCJfdGhpczUiLCJfcmVmMTkiLCJjYWxsc0J5SWQiLCJhIiwiYiIsIl90aGlzJGdldFN0YXRlOSIsImlzTG9ja2VkIiwibG9nSXRlbXMiLCJoYXNBY3RpdmUiLCJpdGVtIiwiaGFzUHJldmlvdXMiLCJjb250cm9sU3RhdGVzIiwiaW5zdHJ1bWVudCIsIl9nbG9iYWwkd2luZG93JGxvY2F0aSIsIl9nbG9iYWwkd2luZG93JGxvY2F0aTIiLCJfZ2xvYmFsJHdpbmRvdyRsb2NhdGkzIiwiX2dsb2JhbCR3aW5kb3ckbG9jYXRpNCIsImZvcmNlSW5zdHJ1bWVudCIsInNraXBJbnN0cnVtZW50IiwiaW5zdHJ1bWVudGVyIiwib25jZSIsImJ1aWxkIiwiTW9kdWxlTW9ja2VyXzEiLCJNT0NLX0NPTlNUUlVDVE9SX05BTUUiLCJGVU5DVElPTl9OQU1FX1JFU0VSVkVEX1BBVFRFUk4iLCJGVU5DVElPTl9OQU1FX1JFU0VSVkVEX1JFUExBQ0UiLCJSRVNFUlZFRF9LRVlXT1JEUyIsIm1hdGNoQXJpdHkiLCJsZW5ndGgiLCJtb2NrQ29uc3RydWN0b3IiLCJfYSIsIl9iIiwiX2MiLCJfZiIsIl9nIiwiX2giLCJnZXRPYmplY3RUeXBlIiwiZ2V0VHlwZSIsInR5cGVOYW1lIiwiaXNSZWFkb25seVByb3AiLCJvYmplY3QiLCJwcm9wIiwiTW9kdWxlTW9ja2VyIiwic2xvdHMiLCJFbnZPYmplY3RQcm90byIsIkVudkZ1bmN0aW9uUHJvdG8iLCJFbnZSZWdFeHBQcm90byIsIk9iamVjdFByb3RvIiwiRnVuY3Rpb25Qcm90byIsIlJlZ0V4cFByb3RvIiwib3duTmFtZXMiLCJwcm9wRGVzYyIsImYiLCJjb25maWciLCJtZXRhZGF0YSIsInByb3RvdHlwZSIsInByb3RvdHlwZVNsb3RzIiwibW9ja2VyIiwibW9ja1N0YXRlIiwibW9ja0NvbmZpZyIsIm1vY2tSZXN1bHQiLCJmaW5hbFJldHVyblZhbHVlIiwidGhyb3duRXJyb3IiLCJjYWxsRGlkVGhyb3dFcnJvciIsInNsb3QiLCJwcm90b0ltcGwiLCJtb2NrSW1wbCIsInNwZWNpZmljTW9ja0ltcGwiLCJlcnJvciIsInZhbCIsInVua25vd25UeXBlIiwiYm91bmRGdW5jdGlvblByZWZpeCIsImJpbmRDYWxsIiwiYm9keSIsImNhbGxiYWNrcyIsInJlZnMiLCJtb2NrIiwic2xvdE1ldGFkYXRhIiwiX21ldGFkYXRhIiwic2V0dGVyIiwiY29tcG9uZW50IiwiX3JlZnMiLCJ0eXBlIiwibWVtYmVycyIsImltcGxlbWVudGF0aW9uIiwibWV0aG9kTmFtZSIsImFjY2Vzc1R5cGUiLCJvcmlnaW5hbCIsImlzTWV0aG9kT3duZXIiLCJvcmlnaW5hbEdldCIsInByb3BlcnR5TmFtZSIsIl9kZWVwIiwiSmVzdE1vY2siLCJzcHlPbiIsIm1vY2tlZCIsIl9pbnN0cnVtZW50IiwiYWN0aW9uIiwiY2hhbm5lbCIsInNwaWVzIiwiX21vY2skbW9ja0NsZWFyIiwiX21vY2skbW9ja0NsZWFyMiIsImFkZEFjdGlvbnNGcm9tQXJnVHlwZXMiLCJpbml0aWFsQXJncyIsImFyZ3NFbmhhbmNlcnMiXSwibWFwcGluZ3Mi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
